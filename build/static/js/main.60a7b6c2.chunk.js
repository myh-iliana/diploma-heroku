(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){e.exports={user:"User_user__2_PPZ",img:"User_img__27A7Q",user__info:"User_user__info__2JLJv",link:"User_link__3mX2p",bio:"User_bio__35PN-",edit_button:"User_edit_button__2l0r6"}},102:function(e,t,a){e.exports={item:"PostsBlock_item__nEqrl",date:"PostsBlock_date__3njRE",subauthor:"PostsBlock_subauthor__3R2vS",mainAuthor:"PostsBlock_mainAuthor__C_viJ",desc:"PostsBlock_desc__2rdP3",tags:"PostsBlock_tags__3qJUx"}},145:function(e,t,a){e.exports={icon:"Users_icon__rvsbg"}},187:function(e,t,a){e.exports={logo:"Header_logo__1f-_0",nav:"Header_nav__3vf5u",nav_active:"Header_nav_active__2sNZC"}},331:function(e,t,a){e.exports={container:"Home_container__3-vMz"}},336:function(e,t,a){e.exports={form:"Register_form__3r9Tu"}},337:function(e,t,a){e.exports={form:"Login_form__3lW6r"}},338:function(e,t,a){e.exports={container:"Account_container__2sz8J"}},339:function(e,t,a){e.exports=a.p+"static/media/none.e80d50ce.svg"},341:function(e,t,a){e.exports={form:"CreatePost_form__1b5xX"}},342:function(e,t,a){e.exports={light_text:"UsersSelect_light_text__14p9h"}},343:function(e,t,a){e.exports={form:"EditPost_form__pSq35"}},344:function(e,t,a){e.exports={container:"AdminPanel_container__3JA3L"}},357:function(e,t,a){e.exports=a(633)},41:function(e,t,a){e.exports={container:"Post_container__3-Mb4",header:"Post_header__1ei55",subauthor:"Post_subauthor__coQzx",mainAuthor:"Post_mainAuthor__3RAwC",desc:"Post_desc__BOnGI",info:"Post_info__18LXx",tags:"Post_tags__3Zx1U",add_btn:"Post_add_btn__1iFoc",file_attached:"Post_file_attached__20RR-",bottom:"Post_bottom__2biE0",icons:"Post_icons__2Yxuw",action_icons:"Post_action_icons__Q6GSL"}},630:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(40),o=a.n(i),c=a(27),l=a(12),s=(a(362),a(4)),u=a(10),m=a.n(u),d=a(26),h=a.n(d),p={_token:null,_refreshToken:null,setTokens:function(e,t){this._token=e,this._refreshToken=t,function(e,t){e&&localStorage.setItem("_accessToken",e),t&&localStorage.setItem("_refreshToken",t)}(e,t),h.a.defaults.headers.Authorization="Bearer ".concat(e)},isLoggedIn:function(){return!!this._token},logout:function(){this._token=null,localStorage.removeItem("_accessToken"),localStorage.removeItem("_refreshToken"),h.a.defaults.headers.Authorization=void 0},login:function(e){var t=e.username,a=e.password;return h.a.post("/api/auth/login",{username:t,password:a})},refreshToken:function(e){var t=e.refreshToken;return h.a.post("/api/auth/refreshToken",{refreshToken:t})},register:function(e){var t=e.fullName,a=e.username,n=e.email,r=e.password,i=e.passConfirm,o=e.isTeacher,c=e.cathedraId;return h.a.post("/api/auth/register",{fullName:t,username:a,email:n,password:r,passConfirm:i,isTeacher:o,cathedraId:c})}},f=function(){return h.a.get("/api/cathedras")},b=function(e){return h.a.get("/api/cathedras/".concat(e))},g=function(e){return h.a.get("/api/users/".concat(e,"/posts"))},E=function(){return h.a.get("/api/users/account")},v=function(e){return h.a.get("/api/users/".concat(e))},y=function(){return h.a.get("/api/users")},w=function(e){return h.a.put("/api/users/account",e)},O=function(e){return h.a.put("/api/users/account/avatar",e)},j=function(e){return h.a.delete("/api/users/".concat(e))},S={createPeriodicity:function(e){return h.a.post("/api/posts/periodicity",e)},createThesis:function(e){return h.a.post("/api/posts/thesis",e)},createMonograph:function(e){return h.a.post("/api/posts/monograph",e)},getPeriodicity:function(e){return h.a.get("/api/posts/periodicity/".concat(e))},getThesis:function(e){return h.a.get("/api/posts/thesis/".concat(e))},getMonograph:function(e){return h.a.get("/api/posts/monograph/".concat(e))},getPeriodicityAll:function(){return h.a.get("/api/posts/periodicity/all")},getThesisAll:function(){return h.a.get("/api/posts/thesis/all")},getMonographAll:function(){return h.a.get("/api/posts/monograph/all")},editPeriodicity:function(e,t){return h.a.put("/api/posts/periodicity/".concat(e),t)},editThesis:function(e,t){return h.a.put("/api/posts/thesis/".concat(e),t)},editMonograph:function(e,t){return h.a.put("/api/posts/monograph/".concat(e),t)},deletePeriodicity:function(e){return h.a.delete("/api/posts/periodicity/".concat(e))},deleteThesis:function(e){return h.a.delete("/api/posts/thesis/".concat(e))},deleteMonograph:function(e){return h.a.delete("/api/posts/monograph/".concat(e))}},x=function(e){return h.a.post("/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},P=a(20),_=a(62),k=a(86);function I(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=s.h.model({isLoading:!1,isError:!1,errorMsg:s.h.maybeNull(s.h.union(s.h.string,s.h.frozen())),redirect:!1}).actions((function(a){return{start:function(){a.isLoading=!0,a.isError=!1,a.redirect=!1,a.errorMsg=null},finish:function(){a.isLoading=!1,a.redirect=!1},error:function(e){a.isError=!0,a.redirect=!1,e.response&&(a.errorMsg=e.response.data.error)},setRedirect:function(e){a.redirect=e},merge:function(e,t){var n=Object(k.a)(e,t),r=n.result,i=n.entities;return Object(s.e)(a).entities.merge(i),r},run:function(){var n=e.apply(void 0,arguments)(a,Object(s.d)(a),Object(s.e)(a));return t?a._auto(n):n},_auto:function(e){return Object(P.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.start(),t.next=4,e;case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),a.error(t.t0);case 10:return t.prev=10,a.finish(),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,6,10,13]])})))()}}}));return s.h.optional(a,{})}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.h.model("CollectionModel",Object(_.a)({collection:s.h.map(e)},t)).views((function(e){return{get:function(t){return e.collection.get(String(t))}}})).actions((function(e){return{add:function(t,a){e.collection.set(String(t),a)},remove:function(t,a){var n=e.collection.get(String(t));a.remove(t),Object(s.b)(n)}}}));return s.h.optional(a,{})}function C(e,t,a){return function(){var n=Object(P.a)(m.a.mark((function n(r,i,o){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=i.get(e),o.files.upload.run(t).then(Object(P.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Object(s.f)(o.files.items))[0]){t.next=5;break}return c.setFiles(ra+n[0].filename),t.next=5,a({id:e,files:ra+n[0].filename});case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}()}function T(e,t){return function(){var a=Object(P.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:window.location.reload(),n.setRedirect(!0);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function A(e,t,a){return function(){var n=Object(P.a)(m.a.mark((function n(r,i){var o,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.get(e),n.next=3,a(e,t);case 3:c=n.sent,Object(s.a)(o,c.data),r.setRedirect(!0);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var M=s.h.model("AuthStore",{login:I((function(e){var t=e.username,a=e.password;return function(){var e=Object(P.a)(m.a.mark((function e(n,r,i){var o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.login({username:t,password:a});case 2:(o=e.sent).data&&(p.setTokens(o.data.accessToken,o.data.refreshToken),i.viewer.setViewer(o.data.user),i.auth.setIsLoggedIn(!0),n.setRedirect(!0));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()})),register:I((function(e){var t=e.fullName,a=e.username,n=e.email,r=e.password,i=e.passConfirm,o=e.isTeacher,c=e.cathedraId;return function(){var e=Object(P.a)(m.a.mark((function e(l,s,u){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.register({fullName:t,username:a,email:n,password:r,passConfirm:i,isTeacher:o,cathedraId:c});case 2:l.setRedirect(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()})),refreshToken:I((function(e){var t=e.refreshToken;return function(){var e=Object(P.a)(m.a.mark((function e(a,n,r){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.refreshToken({refreshToken:t});case 2:i=e.sent,p.setTokens(i.data.accessToken,i.data.refreshToken),r.auth.setIsLoggedIn(!0);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()})),isLoggedIn:!1}).actions((function(e){return{setIsLoggedIn:function(t){e.isLoggedIn=t},logout:function(){e.isLoggedIn=!1,p.logout()}}}));var F=s.h.model("CathedraModel",{id:s.h.identifierNumber,name:s.h.string,workers:s.h.optional(s.h.frozen(),[])}),L=s.h.model("PeriodicityModel",{id:s.h.identifierNumber,author:s.h.number,subauthors:s.h.maybeNull(s.h.string),udc:s.h.string,title:s.h.string,journal:s.h.string,issueNumber:s.h.union(s.h.number,s.h.string),journalPages:s.h.string,pages:s.h.string,annotations:s.h.maybeNull(s.h.string),issn:s.h.maybeNull(s.h.string),doi:s.h.maybeNull(s.h.string),isScopusAndWS:!1,isScientometrics:!1,isProfessional:!1,isElectronic:!1,files:s.h.maybeNull(s.h.string),createdAt:s.h.string,updatedAt:s.h.string,Users:s.h.optional(s.h.frozen(),[])}).actions((function(e){return{setFiles:function(t){e.files=t}}})),V=s.h.model("MonographModel",{id:s.h.identifierNumber,author:s.h.number,subauthors:s.h.maybeNull(s.h.string),title:s.h.string,section:s.h.string,monographPages:s.h.string,printPages:s.h.string,pages:s.h.string,year:s.h.number,annotations:s.h.maybeNull(s.h.string),isbn:s.h.maybeNull(s.h.string),doi:s.h.maybeNull(s.h.string),isEuLanguage:!1,files:s.h.maybeNull(s.h.string),createdAt:s.h.string,updatedAt:s.h.string,Users:s.h.optional(s.h.frozen(),[])}).actions((function(e){return{setFiles:function(t){e.files=t}}})),q=s.h.model("ThesisModel",{id:s.h.identifierNumber,author:s.h.number,subauthors:s.h.maybeNull(s.h.string),udc:s.h.string,title:s.h.string,conference:s.h.string,city:s.h.string,dates:s.h.string,collectionPages:s.h.string,pages:s.h.string,annotations:s.h.maybeNull(s.h.string),issn:s.h.maybeNull(s.h.string),doi:s.h.maybeNull(s.h.string),isScopusAndWS:!1,isScientometrics:!1,isInternational:!1,files:s.h.maybeNull(s.h.string),createdAt:s.h.string,updatedAt:s.h.string,Users:s.h.optional(s.h.frozen(),[])}).actions((function(e){return{setFiles:function(t){e.files=t}}})),z=s.h.model("UserModel",{username:s.h.identifier,id:s.h.number,fullName:s.h.string,email:s.h.maybe(s.h.string),isTeacher:!1,isAdmin:!1,cathedraId:s.h.maybeNull(s.h.number),createdAt:s.h.string,updatedAt:s.h.string,avatar:s.h.maybeNull(s.h.string),bio:s.h.maybeNull(s.h.string),cathedra:s.h.maybeNull(s.h.reference(F,{get:function(e,t){return e?Object(s.e)(t).entities.cathedras.get(e)||e:null},set:function(e){return e.id}})),usernameString:s.h.string}).preProcessSnapshot((function(e){if(e)return Object(_.a)({},e,{cathedra:e.cathedra||e.cathedraId,usernameString:e.username})})),U=z.named("ViewerModel"),B=s.h.model("ViewerStore",{user:s.h.maybe(U),userModel:s.h.maybe(z),edit:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:r=t.sent,n.setViewer(r.data),a.setRedirect(!0);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),changeAvatar:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:r=t.sent,n.setViewer(r.data),a.setRedirect(!0);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}))}).actions((function(e){return{setViewer:function(t){e.user=t}}}));var D=new k.b.Entity("periodicity"),R=new k.b.Entity("thesis"),W=new k.b.Entity("monographs"),G=[D],J=[R],H=[W],X=new k.b.Entity("users",{},{idAttribute:function(e){return e.username}}),Y=[X],Q=new k.b.Entity("cathedras",{}),Z=[Q],K=s.h.model("CathedrasStore",{items:s.h.array(s.h.reference(F)),fetchAll:I((function(){return function(){var e=Object(P.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:n=e.sent,r=t.merge(n.data,Z),a.setItems(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}))}).actions((function(e){return{setItems:function(t){e.items=t}}}));function $(){return Ee().entities.users}var ee=N(z,{getUser:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.get(e)){t.next=4;break}return t.abrupt("return",n.get(e));case 4:return t.next=6,v(e);case 6:r=t.sent,a.merge(r.data,X);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),edit:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:window.location.reload(),a.setRedirect(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),deleteById:I((function(e,t){return function(){var a=Object(P.a)(m.a.mark((function a(n,r){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(e);case 2:r.remove(t,Object(s.e)(r).users),n.setRedirect(!0);case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}))});var te=N(F,{getById:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.get(e))){t.next=3;break}return t.abrupt("return",r);case 3:if(r){t.next=8;break}return t.next=6,b(e);case 6:i=t.sent,a.merge(i.data,Q);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}))});function ae(){return Ee().entities.periodicity}var ne=N(L,{getById:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.get(e)){t.next=4;break}return t.abrupt("return",n.get(e));case 4:return t.next=6,S.getPeriodicity(e);case 6:r=t.sent,a.merge(r.data,D);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),editFiles:I(C),deleteById:I(T),editPost:I(A)});function re(){return Ee().entities.monographs}var ie=N(V,{getById:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.get(e))){t.next=3;break}return t.abrupt("return",r);case 3:if(r){t.next=8;break}return t.next=6,S.getMonograph(e);case 6:i=t.sent,a.merge(i.data,W);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),editFiles:I(C),deleteById:I(T),editPost:I(A)});function oe(){return Ee().entities.thesis}var ce=N(q,{getById:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.get(e))){t.next=3;break}return t.abrupt("return",r);case 3:if(r){t.next=8;break}return t.next=6,S.getThesis(e);case 6:i=t.sent,a.merge(i.data,R);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),editFiles:I(C),deleteById:I(T),editPost:I(A)});var le=s.h.model("EntitiesStore",{users:ee,cathedras:te,periodicity:ne,thesis:ce,monographs:ie}).actions((function(e){return{merge:function(t){Object.keys(t).forEach((function(a){var n=t[a];Object.keys(n).forEach((function(t){var r=n[t];e[a].add(t,r)}))}))}}})),se=a(346),ue=s.h.model("FilesStore",{upload:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FormData,Object(se.a)(e).forEach((function(e){return r.append("files",e)})),t.next=4,x(r);case 4:i=t.sent,n.setItems(i.data);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),items:s.h.optional(s.h.array(s.h.frozen()),[])}).actions((function(e){return{setItems:function(t){e.items=t},getItems:function(){return e.items[0]}}}));var me=s.h.model("CathedrasStore",{items:s.h.array(s.h.reference(z)),fetchAll:I((function(){return function(){var e=Object(P.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:n=e.sent,r=t.merge(n.data,Y),a.setItems(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}))}).actions((function(e){return{setItems:function(t){e.items=t},remove:function(t){e.items=e.items.filter((function(e){return e.username!==t}))}}}));var de=s.h.model("UserPostsStore",{periodic:s.h.array(s.h.reference(L)),thesis:s.h.array(s.h.reference(q)),monographs:s.h.array(s.h.reference(V)),addPeriodic:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.createPeriodicity(e);case 2:r=t.sent,i=a.merge(r.data,D),n.pushItem("periodic",i);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),addThesis:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.createThesis(e);case 2:r=t.sent,i=a.merge(r.data,R),n.pushItem("thesis",i);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),addMonograph:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.createMonograph(e);case 2:r=t.sent,i=a.merge(r.data,W),n.pushItem("monographs",i);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()})),fetchUserPosts:I((function(e){return function(){var t=Object(P.a)(m.a.mark((function t(a,n){var r,i,o,c,l,s,u,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:r=t.sent,i=r.data,o=i.Periodicities,c=i.Monographs,l=i.Theses,s=a.merge(o,G),u=a.merge(c,H),d=a.merge(l,J),n.setItems("periodic",s),n.setItems("thesis",d),n.setItems("monographs",u);case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}))}).actions((function(e){return{setItems:function(t,a){e[t]=a},pushItem:function(t,a){e[t].push(a)}}}));var he=s.h.model("UserPostsStore",{periodic:s.h.array(s.h.reference(L)),thesis:s.h.array(s.h.reference(q)),monographs:s.h.array(s.h.reference(V)),fetchPeriodic:I((function(){return function(){var e=Object(P.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getPeriodicityAll();case 2:n=e.sent,console.log(n.data),r=t.merge(n.data,G),a.setItems("periodic",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})),fetchThesis:I((function(){return function(){var e=Object(P.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getThesisAll();case 2:n=e.sent,r=t.merge(n.data,J),a.setItems("thesis",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})),fetchMonographs:I((function(){return function(){var e=Object(P.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getMonographAll();case 2:n=e.sent,r=t.merge(n.data,H),a.setItems("monographs",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}))}).actions((function(e){return{setItems:function(t,a){e[t]=a}}}));var pe=s.h.model("RootStore",{auth:s.h.optional(M,{}),viewer:s.h.optional(B,{}),users:s.h.optional(me,{}),userPosts:s.h.optional(de,{}),posts:s.h.optional(he,{}),cathedras:s.h.optional(K,{}),files:s.h.optional(ue,{}),entities:s.h.optional(le,{})}).actions((function(e){return{bootstrap:Object(s.c)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=localStorage.getItem("_accessToken"),n=localStorage.getItem("_refreshToken"),p.setTokens(a,n),!a){t.next=12;break}return e.auth.setIsLoggedIn(!0),t.next=8,E();case 8:r=t.sent,e.viewer.setViewer(r.data),t.next=15;break;case 12:e.auth.setIsLoggedIn(!1),e.viewer.setViewer(void 0),p.logout();case 15:t.next=22;break;case 17:t.prev=17,t.t0=t.catch(0),e.auth.setIsLoggedIn(!1),e.viewer.setViewer(void 0),p.logout();case 22:case"end":return t.stop()}}),t,null,[[0,17]])})))}})),fe=function(){var e,t=pe.create();return(e=t,Object(s.g)(e,(function(e){localStorage.setItem("_persist",JSON.stringify({auth:{isLoggedIn:e.auth.isLoggedIn},viewer:{user:e.viewer.user}}))})),{rehydrate:function(){var t=localStorage.getItem("_persist");t&&Object(s.a)(e,JSON.parse(t))}}).rehydrate(),Object(s.g)(t,(function(e){})),t},be=Object(n.createContext)(null),ge=be.Provider,Ee=function(e){var t=Object(n.useContext)(be);return"function"===typeof e?e(t):t},ve=a(34),ye=a(85),we=a(24),Oe=a(643),je=a(655),Se=a(656),xe=a(651),Pe=a(187),_e=a.n(Pe),ke=a(345),Ie=a(69),Ne=function(e){var t=e.src;return r.a.createElement("div",null,t?r.a.createElement(ke.a,{avatar:!0,src:t}):r.a.createElement(Ie.a,{size:"large",name:"user circle"}))},Ce=Object(l.a)((function(){var e=Object(ye.h)(),t=Ee(),a=t.auth.isLoggedIn,n=a&&t.viewer.user,i=n.avatar,o=n.isAdmin,c=a&&Object(ye.f)($t.account,{username:t.viewer.user.username});return r.a.createElement(Oe.a,{fluid:!0},r.a.createElement(je.a,{size:"large",color:na.main,inverted:!0,attached:!0},r.a.createElement(je.a.Item,null,r.a.createElement(Se.a,{as:"h1"},r.a.createElement(we.b,{to:$t.home,className:_e.a.logo},"SciWorks"))),r.a.createElement(je.a.Menu,{position:"right"},a&&r.a.createElement(xe.a,{item:!0,trigger:r.a.createElement(Ne,{src:i})},r.a.createElement(xe.a.Menu,null,r.a.createElement(xe.a.Item,{icon:"user",as:we.b,to:c,text:"Profile"}),r.a.createElement(xe.a.Item,{icon:"add",as:we.b,to:$t.createPost,text:"New post"}),o&&r.a.createElement(xe.a.Item,{icon:"cog",as:we.b,to:$t.adminPanel,text:"Admin panel"}),r.a.createElement(xe.a.Divider,null),r.a.createElement(xe.a.Item,{icon:"sign out",text:"Sign out",onClick:function(){t.auth.logout(),e.push($t.home)}}))),!a&&r.a.createElement(je.a.Item,null,r.a.createElement(we.c,{to:$t.login,activeClassName:_e.a.nav_active,className:_e.a.nav},"Sign In")))))})),Te=a(657),Ae=a(658),Me=a(331),Fe=a.n(Me),Le=a(652),Ve=a(644),qe=function(e){var t=e.items,a=e.loading;return a||t[0]?r.a.createElement(Le.a,{divided:!0,relaxed:!0},r.a.createElement(Ve.a,{active:a}),t.map((function(e){var t=e.username,a=e.fullName;return r.a.createElement(Le.a.Item,null,r.a.createElement(Le.a.Icon,{name:"user",size:"large",verticalAlign:"middle"}),r.a.createElement(Le.a.Content,null,r.a.createElement(Le.a.Header,{as:we.b,to:Object(ye.f)($t.account,{username:t})},t),r.a.createElement(Le.a.Description,{as:"a"},a)))}))):r.a.createElement(Se.a,{as:"h4",textAlign:"center"},"No users")},ze=a(653),Ue=Object(l.a)((function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Ee().cathedras,l=o.fetchAll,s=o.items,u=function(e,t){var n=t.index;i(a===n?-1:n)};return Object(n.useEffect)((function(){l.run()}),[]),l.isLoading||s[0]?r.a.createElement(ze.a,{fluid:!0,styled:!0},r.a.createElement(Ve.a,{active:l.isLoading}),s.map((function(e){var t=e.id,n=e.name,i=e.workers;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a.Title,{active:a===t,index:t,onClick:u},r.a.createElement(Ie.a,{name:"dropdown"}),n),r.a.createElement(ze.a.Content,{active:a===t},r.a.createElement(qe,{loading:l.isLoading,items:i})))}))):r.a.createElement(Se.a,{as:"h4",textAlign:"center"},"No cathedras")})),Be=function(e){var t=e.loading,a=e.items,n=e.path;return t||a[0]?r.a.createElement(Le.a,{divided:!0,relaxed:!0},r.a.createElement(Ve.a,{active:t}),a.map((function(e){var t=e.title,a=e.id;return r.a.createElement(Le.a.Item,null,r.a.createElement(Le.a.Icon,{name:"book",size:"large",verticalAlign:"middle"}),r.a.createElement(Le.a.Content,null,r.a.createElement(Le.a.Header,{as:we.b,to:Object(ye.f)(n,{id:a})},t)))}))):r.a.createElement(Se.a,{as:"h4",textAlign:"center"},"No posts")},De=Object(l.a)((function(){var e=Object(n.useState)("users"),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Ee(),l=o.users,s=l.fetchAll,u=l.items,m=o.posts,d=m.fetchPeriodic,h=m.fetchThesis,p=m.fetchMonographs,f=m.periodic,b=m.thesis,g=m.monographs,E=function(e,t){var a=t.name;return i(a)};return Object(n.useEffect)((function(){s.run(),d.run(),h.run(),p.run()}),[]),r.a.createElement(Oe.a,{className:Fe.a.container},r.a.createElement(Te.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Column,{width:4},r.a.createElement(je.a,{fluid:!0,vertical:!0,tabular:!0},r.a.createElement(je.a.Item,{name:"users",active:"users"===a,onClick:E}),r.a.createElement(je.a.Item,{name:"cathedras",active:"cathedras"===a,onClick:E}),r.a.createElement(je.a.Item,{name:"periodicity",active:"periodicity"===a,onClick:E}),r.a.createElement(je.a.Item,{name:"thesis",active:"thesis"===a,onClick:E}),r.a.createElement(je.a.Item,{name:"monographs",active:"monographs"===a,onClick:E}))),r.a.createElement(Ae.a.Column,{stretched:!0,width:12},"users"===a&&r.a.createElement(qe,{items:u,loading:s.isLoading}),"cathedras"===a&&r.a.createElement(Ue,null),"periodicity"===a&&r.a.createElement(Be,{path:$t.periodicityPost,items:f,loading:d.isLoading}),"thesis"===a&&r.a.createElement(Be,{path:$t.thesisPost,items:b,loading:h.isLoading}),"monographs"===a&&r.a.createElement(Be,{path:$t.monographPost,items:g,loading:p.isLoading})))))})),Re=a(654),We=a(649),Ge=a(635),Je=a(43),He=a(25),Xe=a(645),Ye=a(646),Qe=a(647),Ze=a(144),Ke=function(e){var t=e.children;return r.a.createElement(Ze.a,{basic:!0,color:"red",pointing:!0},t)},$e=function(e){e.children;var t=e.label,a=e.required,i=void 0!==a&&a,o=e.type,l=void 0===o?"text":o,s=Object(ve.a)(e,["children","label","required","type"]),u=Object(n.useState)(!1),m=Object(c.a)(u,2),d=m[0],h=m[1],p=Object(Je.b)(s),f=Object(c.a)(p,2),b=f[0],g=f[1],E="password"===l,v="checkbox"===l,y="textarea"===l,w=E?E&&d?"text":"password":l,O=r.a.createElement(Xe.a,Object.assign({label:t,type:"checkbox",checked:g.value},s,b)),j=r.a.createElement(n.Fragment,null,r.a.createElement("label",null,t),r.a.createElement(Ye.a,Object.assign({style:{minHeight:"300px"},value:g.value},b,s))),S=r.a.createElement(n.Fragment,null,r.a.createElement("label",null,t),r.a.createElement(Qe.a,{icon:!0},r.a.createElement("input",Object.assign({type:w},s,b,{value:g.value})),E&&r.a.createElement(Ge.a,{type:"button",icon:!0,onClick:function(){return h(!d)}},r.a.createElement(Ie.a,{name:d?"eye":"eye slash"}))));return r.a.createElement(We.a.Field,{required:i,error:g.touched&&g.error&&!0},v&&O,y&&j,!v&&!y&&S,g.touched&&g.error&&"Please enter a value"!==g.error&&r.a.createElement(Ke,null,g.error))},et=function(e){var t=e.errors,a=e.header,n=void 0===a?"Something went wrong":a,i=Object(ve.a)(e,["errors","header"]);return r.a.createElement(Re.a,Object.assign({error:!0,header:n,content:t.map((function(e){return r.a.createElement("span",null,e.msg,r.a.createElement("br",null))}))},i))},tt=a(79),at=(a(630),function(e){var t=e.setFieldValue,a=e.children,i=e.required,o=void 0!==i&&i,l=e.name,s=e.label,u=e.defaultValue,m=e.formik,d=void 0===m||m,h=e.multiple,p=void 0!==h&&h,f=e.getValue,b=e.error,g=void 0===b?null:b,E=Object(ve.a)(e,["setFieldValue","children","required","name","label","defaultValue","formik","multiple","getValue","error"]),v=Object(n.useState)(!1),y=Object(c.a)(v,2),w=y[0],O=y[1],j=Object(n.useState)(""),S=Object(c.a)(j,2),x=S[0],P=S[1],_=Object(n.useState)(u||[]),k=Object(c.a)(_,2),I=k[0],N=k[1];return r.a.createElement(We.a.Field,{required:o},r.a.createElement("label",null,s),r.a.createElement(tt.Select,Object.assign({active:w,search:!0,selection:!0,selected:I,onSelectChange:function(e){N(e),O(!1),d?t(l,p?e:e[0]):f(e)},onClick:function(){return O(!w)},onRequestClose:function(){return O(!1)},className:"select",style:w?{"--display":"block"}:{"--display":"none"},onSearchStringChange:function(e){return P(e)},searchString:x,name:l,multiple:p},E),a),g&&r.a.createElement(Ke,null,g))}),nt=Object(l.a)((function(e){var t=e.isTeacher,a=void 0!==t&&t,i=e.setFieldValue,o=e.error,c=Object(ve.a)(e,["isTeacher","setFieldValue","error"]),l=Ee().cathedras,s=l.items,u=l.fetchAll;return Object(n.useEffect)((function(){u.run()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{onClick:function(e,t){return!t.checked&&i("cathedraId",null)},type:"checkbox",label:"I am professor",id:"isTeacher",name:"isTeacher"}),r.a.createElement(at,Object.assign({label:"Your cathedra",name:"cathedraId",placeholder:"Select cathedra",required:a,disabled:!a,setFieldValue:i,error:o,loading:u.isLoading},c),s.map((function(e){var t=e.name,a=e.id;return r.a.createElement(tt.Option,{key:a,value:a},t)}))))})),rt=Object(l.a)((function(e){var t=e.onSubmit,a=Ee(),i=a.cathedras.items,o=a.auth.register,c=o.isLoading,l=o.isError,s=o.errorMsg;Object(n.useEffect)((function(){a.cathedras.fetchAll.run()}),[]);var u={initialValues:{fullName:"",username:"",email:"",password:"",passConfirm:"",isTeacher:!1,cathedraId:null},validationSchema:He.c().shape({fullName:He.d().min(3,"Must be at least 3 characters").max(255,"Must be shorter than 255").required("Please enter a value"),username:He.d().min(4,"Must be at least 4 characters").max(255,"Must be shorter than 255").required("Please enter a value"),email:He.d().email("Must be a valid email address").max(255,"Must be shorter than 255").required("Please enter a value"),password:He.d().min(6,"Must have minimum 6 characters").required("Please enter a value"),passConfirm:He.d().required("Please enter a value"),isTeacher:He.a(),cathedraId:He.b().when("isTeacher",{is:!0,then:He.b().required("Please select something").nullable(),otherwise:He.b().nullable()})}),onSubmit:t};return r.a.createElement(Je.a,u,(function(e){var t=e.values,a=e.handleSubmit,n=e.setFieldValue,o=e.errors,u=t.password===t.passConfirm;return r.a.createElement(We.a,{error:l,loading:c,noValidate:!0,onSubmit:a,className:"attached grey segment"},l&&r.a.createElement(et,{errors:s}),r.a.createElement($e,{label:"Full name",name:"fullName",placeholder:"Bruce Wayne"}),r.a.createElement($e,{label:"Username",name:"username",placeholder:"Batman",required:!0}),r.a.createElement($e,{label:"Email",name:"email",type:"email",placeholder:"something@example.com",required:!0}),r.a.createElement($e,{label:"Password",name:"password",type:"password",placeholder:"Password",required:!0}),r.a.createElement($e,{label:"Repeat password",name:"passConfirm",type:"password",placeholder:"Repeat password",required:!0},!u&&r.a.createElement(Ke,null,"Passwords don't match")),r.a.createElement(nt,{isTeacher:t.isTeacher,setFieldValue:n,items:i,error:o.cathedraId}),r.a.createElement(Ge.a,{type:"submit",size:"large",color:na.main},"Register"))}))})),it=a(336),ot=a.n(it),ct=Object(l.a)((function(){var e=Ee(),t=e.auth.register.redirect,a=function(){var t=Object(P.a)(m.a.mark((function t(a){var n,r,i,o,c,l,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.fullName,r=a.username,i=a.email,o=a.password,c=a.passConfirm,l=a.isTeacher,s=a.cathedraId,t.next=3,e.auth.register.run({fullName:n,username:r,email:i,password:o,passConfirm:c,isTeacher:l,cathedraId:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t?r.a.createElement(ye.a,{to:$t.login}):r.a.createElement(Oe.a,null,r.a.createElement("div",{className:ot.a.form},r.a.createElement(Re.a,{attached:!0,header:"Welcome to our site!",content:"Fill out the form below to sign-up for a new account"}),r.a.createElement(rt,{onSubmit:a}),r.a.createElement(Re.a,{attached:"bottom",warning:!0},r.a.createElement(Ie.a,{name:"help"}),"Already signed up?\xa0",r.a.createElement(we.b,{to:$t.login},"Login here"),"\xa0instead.")))})),lt=Object(l.a)((function(e){var t=e.onSubmit,a=Ee().auth.login,n=a.errorMsg,i=a.isError,o=a.isLoading,c={initialValues:{username:"",password:""},validationSchema:He.c().shape({username:He.d().max(255,"Must be shorter than 255").required(" "),password:He.d().required(" ")}),onSubmit:t};return r.a.createElement(Je.a,c,(function(e){var t=e.handleSubmit;return r.a.createElement(We.a,{error:i,loading:o,noValidate:!0,onSubmit:t,className:"attached grey segment"},r.a.createElement(Re.a,{error:!0,header:"Log in failed",content:n}),r.a.createElement($e,{label:"Username",name:"username",placeholder:"Batman"}),r.a.createElement($e,{label:"Password",name:"password",type:"password",placeholder:"Password"}),r.a.createElement(Ge.a,{type:"submit",size:"large",color:na.main},"Login"))}))})),st=a(337),ut=a.n(st),mt=Object(l.a)((function(){var e=Ee(),t=e.auth.login.redirect,a=function(){var t=Object(P.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.username,r=a.password,t.next=3,e.auth.login.run({username:n,password:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t?r.a.createElement(ye.a,{to:Object(ye.f)($t.account,{username:e.viewer.user.username})}):r.a.createElement(Oe.a,null,r.a.createElement("div",{className:ut.a.form},r.a.createElement(Re.a,{attached:!0,header:"Hello!",content:"Login to see more"}),r.a.createElement(lt,{onSubmit:a}),r.a.createElement(Re.a,{attached:"bottom",warning:!0},r.a.createElement(Ie.a,{name:"help"}),"No account yet?\xa0",r.a.createElement(we.b,{to:$t.register},"Register here"),"\xa0.")))})),dt=function(){return r.a.createElement("div",null,r.a.createElement(ye.d,null,r.a.createElement(ye.b,{path:$t.register,component:ct}),r.a.createElement(ye.b,{path:$t.login,component:mt})))},ht=a(338),pt=a.n(ht),ft=a(339),bt=a.n(ft),gt=a(101),Et=a.n(gt),vt=Object(l.a)((function(e){var t=e.user,a=e.cancelEdit,n=e.isViewer,i=void 0===n||n,o=Ee(),c=$().edit,l=t.fullName,s=t.username,u=t.email,m=t.isTeacher,d=t.cathedraId,h=t.id,p=t.bio,f=o.viewer.edit,b=f.isLoading,g=f.isError,E=f.errorMsg,v={initialValues:{id:h,fullName:l,username:s,email:u,isTeacher:m,cathedraId:d,bio:p,currentUsername:s,currentEmail:u},validationSchema:He.c().shape({fullName:He.d().min(3,"Must be at least 3 characters").max(255,"Must be shorter than 255").nullable(),username:He.d().min(4,"Must be at least 4 characters").max(255,"Must be shorter than 255").required("Please enter a value"),email:He.d().email("Must be a valid email address").max(255,"Must be shorter than 255").required("Please enter a value"),bio:He.d().nullable(),isTeacher:He.a(),cathedraId:He.b().when("isTeacher",{is:!0,then:He.b().required("Please select something").nullable(),otherwise:He.b().nullable()})}),onSubmit:function(e){i?o.viewer.edit.run(e):c.run(e)}};return r.a.createElement(Je.a,v,(function(e){var t=e.handleSubmit,n=e.setFieldValue,i=e.values,o=e.errors;return r.a.createElement(We.a,{noValidate:!0,onSubmit:t,error:g,loading:b},g&&r.a.createElement(et,{errors:E}),r.a.createElement($e,{label:"Full name",name:"fullName",placeholder:"Bruce Wayne"}),r.a.createElement($e,{label:"Username",name:"username",placeholder:"Batman",required:!0}),r.a.createElement($e,{label:"Email",name:"email",type:"email",placeholder:"something@example.com",required:!0}),r.a.createElement(nt,{isTeacher:i.isTeacher,setFieldValue:n,defaultValue:[d],error:o.cathedraId}),r.a.createElement($e,{type:"textarea",name:"bio",label:"Tell about yourself",placeholder:"Tell us about yourself"}),r.a.createElement(Ge.a.Group,{attached:!0},r.a.createElement(Ge.a,{onClick:a},"Cancel"),r.a.createElement(Ge.a.Or,null),r.a.createElement(Ge.a,{type:"submit",positive:!0},"Save")))}))})),yt=Object(l.a)((function(e){var t=e.user,a=e.isViewer,i=Object(n.useState)(null),o=Object(c.a)(i,2),l=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(c.a)(u,2),d=m[0],h=m[1],p=r.a.createRef(),f=Ee(),b=t.avatar,g=t.fullName,E=t.username,v=t.email,y=t.cathedraId,w=t.cathedra,O=t.bio,j=Ee().entities.cathedras,S=w&&Object(ye.f)($t.cathedra,{name:w.name||0});Object(n.useEffect)((function(){j.getById.run(y)}),[y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Et.a.user},r.a.createElement("div",{className:Et.a.img},r.a.createElement(ke.a,{src:l&&ra+l||b||bt.a,fluid:!0}),a&&r.a.createElement("div",null,l?r.a.createElement(Ge.a.Group,{fluid:!0,attached:!0},r.a.createElement(Ge.a,{onClick:function(){return s(null)}},"Cancel"),r.a.createElement(Ge.a.Or,null),r.a.createElement(Ge.a,{onClick:function(){f.viewer.changeAvatar.run({avatar:ra+l}),s(null)},positive:!0},"Save")):r.a.createElement(Ge.a,{icon:"add",content:"New avatar",color:na.second,labelPosition:"left",fluid:!0,attached:!0,onClick:function(){return p.current.click()}}),r.a.createElement("input",{onChange:function(e){f.files.upload.run(e.target.files).then((function(){var e,t;return s(null===(e=f.files)||void 0===e||null===(t=e.items[0])||void 0===t?void 0:t.filename)}))},ref:p,type:"file",name:"files",className:"none"}),r.a.createElement("div",{className:Et.a.edit_button},r.a.createElement(Ge.a,{icon:"edit",content:"Edit profile",color:na.neutral,labelPosition:"left",onClick:function(){return h(!0)},fluid:!0,attached:!0})))),r.a.createElement("div",{className:Et.a.user__info},!d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,g),r.a.createElement("h4",null,E),r.a.createElement("div",null,r.a.createElement("a",{href:"mailto: ".concat(v)},v)),r.a.createElement("p",{className:Et.a.bio},O),w&&r.a.createElement(we.b,{to:S,className:Et.a.link},w.name)),d&&a&&r.a.createElement(vt,{user:f.viewer.user,cancelEdit:function(){return h(!1)}}))))})),wt=a(650),Ot=a(102),jt=a.n(Ot),St=Object(l.a)((function(e){var t=e.items,a=e.path;return t.length<=0?r.a.createElement(Se.a,{as:"h4",icon:!0,textAlign:"center"},r.a.createElement(Ie.a,{name:"x"}),"No posts"):r.a.createElement("div",null,r.a.createElement(wt.a.Group,{divided:!0},t.map((function(e){var t=new Date(e.createdAt);return r.a.createElement(wt.a,{key:e.id,className:jt.a.item},r.a.createElement(wt.a.Content,null,r.a.createElement(wt.a.Header,{as:we.b,to:Object(ye.f)(a,{id:e.id})},e.title),r.a.createElement(wt.a.Meta,null,r.a.createElement("div",{className:jt.a.date},r.a.createElement("div",null,t.toLocaleDateString())),r.a.createElement(Ze.a.Group,{size:"small",className:jt.a.tags,tag:!0},e.isElectronic&&r.a.createElement(Ze.a,null,"Electronic"),e.isEuLanguage&&r.a.createElement(Ze.a,null,"European language"),e.isScopusAndWS&&r.a.createElement(Ze.a,null,"Scopus and Web of Science"),e.isScientometrics&&r.a.createElement(Ze.a,null,"Scientometric databases"),e.isProfessional&&r.a.createElement(Ze.a,null,"Professional"),e.isInternational&&r.a.createElement(Ze.a,null,"International conference")),e.Users.map((function(t){var a=t.id,n=t.username;return r.a.createElement(we.b,{className:a!==e.author?jt.a.subauthor:jt.a.mainAuthor,to:Object(ye.f)($t.account,{username:n}),key:a},n)}))),r.a.createElement(wt.a.Description,{className:jt.a.desc},e.annotations),r.a.createElement(wt.a.Extra,null,r.a.createElement(Ge.a,{color:na.main,as:we.b,to:Object(ye.f)(a,{id:e.id}),floated:"right"},"See more",r.a.createElement(Ie.a,{name:"right chevron"})))))}))))})),xt=Object(l.a)((function(){var e,t,a=Object(ye.i)(),i=Ee(),o=(null===(e=i.viewer)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.username)===a.username,c=$(),l=c.collection,s=c.getUser,u=o?i.viewer.user:l.get(a.username),m=i.userPosts,d=m.fetchUserPosts,h=m.periodic,p=m.thesis,f=m.monographs,b=!d.isLoading&&!d.isError;return Object(n.useEffect)((function(){a.username!==i.viewer.user.username&&s.run(a.username),d.run(a.username)}),[a.username]),i.viewer.edit.redirect?r.a.createElement(ye.a,{to:Object(ye.f)($t.account,{username:i.viewer.user.username})}):r.a.createElement("div",{className:pt.a.container},r.a.createElement(Oe.a,null,r.a.createElement(Te.a,{padded:!0,loading:s.isLoading},!u&&r.a.createElement(Se.a,{as:"h3",textAlign:"center"},"No user found"),u&&r.a.createElement(yt,{user:u,isViewer:o})),u&&r.a.createElement(Te.a,{padded:!0},r.a.createElement(je.a,{widths:3},r.a.createElement(je.a.Item,{name:"Monographs",as:we.c,to:Object(ye.f)($t.monographs,{username:u.username})}),r.a.createElement(je.a.Item,{name:"Periodicity",as:we.c,to:Object(ye.f)($t.periodicity,{username:u.username})}),r.a.createElement(je.a.Item,{name:"Thesis",as:we.c,to:Object(ye.f)($t.thesis,{username:u.username})})),r.a.createElement(ye.b,{path:$t.periodicity,render:function(){return b&&r.a.createElement(St,{items:h,path:$t.periodicityPost})}}),r.a.createElement(ye.b,{path:$t.monographs,render:function(){return b&&r.a.createElement(St,{items:f,path:$t.monographPost})}}),r.a.createElement(ye.b,{path:$t.thesis,render:function(){return b&&r.a.createElement(St,{items:p,path:$t.thesisPost})}}))))})),Pt=a(341),_t=a.n(Pt),kt=a(342),It=a.n(kt),Nt=Object(l.a)((function(e){var t=e.setFieldValue,a=e.error,i=e.multiple,o=void 0===i||i,c=Object(ve.a)(e,["setFieldValue","error","multiple"]),l=Ee().users,s=l.fetchAll,u=l.items;return Object(n.useEffect)((function(){s.run()}),[]),r.a.createElement(at,Object.assign({oneValue:!1,required:!0,multiple:o,loading:s.isLoading,setFieldValue:t,error:a},c),u.map((function(e){var t=e.username,a=e.fullName,n=e.id;return r.a.createElement(tt.Option,{key:n,value:n},t," ",r.a.createElement("span",{className:It.a.light_text},"(",a,")"))})))})),Ct=Object(l.a)((function(e){var t=e.onSubmit,a=e.editMode,n=void 0!==a&&a,i=e.isAdmin,o=e.post,c=void 0===o?{}:o,l=c.subauthors?c.subauthors.split(",").map((function(e){return+e})):null,s={initialValues:{title:(null===c||void 0===c?void 0:c.title)||"",section:(null===c||void 0===c?void 0:c.section)||null,monographPages:(null===c||void 0===c?void 0:c.monographPages)||"",printPages:(null===c||void 0===c?void 0:c.printPages)||"",pages:(null===c||void 0===c?void 0:c.pages)||"",year:(null===c||void 0===c?void 0:c.year)||"",annotations:(null===c||void 0===c?void 0:c.annotations)||null,isbn:(null===c||void 0===c?void 0:c.isbn)||null,doi:(null===c||void 0===c?void 0:c.doi)||null,isEuLanguage:(null===c||void 0===c?void 0:c.isEuLanguage)||!1,files:(null===c||void 0===c?void 0:c.files)||null,author:(null===c||void 0===c?void 0:c.author)||null,subauthors:(null===c||void 0===c?void 0:c.subauthors)||null},validationSchema:He.c().shape({}),onSubmit:t},u=Ee().userPosts.addMonograph,m=u.isLoading,d=u.isError;return r.a.createElement(Je.a,s,(function(e){var t=e.handleSubmit,a=e.setFieldValue;return r.a.createElement(We.a,{error:d,loading:m,noValidate:!0,onSubmit:t,className:"attached"},i&&r.a.createElement(Nt,{name:"author",setFieldValue:a,label:"Select author",placeholder:"Select author",multiple:!1}),r.a.createElement(Nt,{name:"subauthors",setFieldValue:a,defaultValue:l,label:"Select subauthors",placeholder:"Select subauthors"}),r.a.createElement($e,{required:!0,label:"Title",name:"title",placeholder:"Monograph title"}),r.a.createElement($e,{label:"Section",name:"section",placeholder:"Section name"}),r.a.createElement(We.a.Group,{widths:2},r.a.createElement($e,{label:"ISBN",name:"isbn",placeholder:"978-1-10-769989-2"}),r.a.createElement($e,{label:"DOI",name:"doi",placeholder:"10.15421/abc1234567890"})),r.a.createElement(We.a.Group,{widths:4},r.a.createElement($e,{required:!0,label:"Monograph pages",name:"monographPages",placeholder:"0"}),r.a.createElement($e,{required:!0,label:"Print pages",name:"printPages",placeholder:"0"}),r.a.createElement($e,{required:!0,label:"Pages",name:"pages",placeholder:"0"}),r.a.createElement($e,{required:!0,label:"Year",name:"year",placeholder:"2015"})),r.a.createElement($e,{type:"textarea",label:"Annotation",name:"annotations",placeholder:"..."}),r.a.createElement($e,{type:"checkbox",label:"European Union language",name:"isEuLanguage",id:"isEuLanguage"}),r.a.createElement(Ge.a,{type:"submit",color:na.main},n?"Update":"Create"))}))})),Tt=Object(l.a)((function(e){var t=e.onSubmit,a=e.editMode,n=void 0!==a&&a,i=e.isAdmin,o=e.post,c=void 0===o?{}:o,l=c.subauthors?c.subauthors.split(",").map((function(e){return+e})):null,s={initialValues:{title:(null===c||void 0===c?void 0:c.title)||"",udc:(null===c||void 0===c?void 0:c.udc)||"",journal:(null===c||void 0===c?void 0:c.journal)||"",issueNumber:(null===c||void 0===c?void 0:c.issueNumber)||"",journalPages:(null===c||void 0===c?void 0:c.journalPages)||"",pages:(null===c||void 0===c?void 0:c.pages)||"",issn:(null===c||void 0===c?void 0:c.issn)||null,doi:(null===c||void 0===c?void 0:c.doi)||null,annotations:(null===c||void 0===c?void 0:c.annotations)||null,isScopusAndWS:(null===c||void 0===c?void 0:c.isScopusAndWS)||!1,isScientometrics:(null===c||void 0===c?void 0:c.isScientometrics)||!1,isProfessional:(null===c||void 0===c?void 0:c.isProfessional)||!1,isElectronic:(null===c||void 0===c?void 0:c.isElectronic)||!1,files:(null===c||void 0===c?void 0:c.files)||null,author:(null===c||void 0===c?void 0:c.author)||null,subauthors:l||null},validationSchema:He.c().shape({}),onSubmit:t},u=Ee().userPosts.addPeriodic,m=u.isLoading,d=u.isError;return r.a.createElement(Je.a,s,(function(e){var t=e.handleSubmit,a=e.setFieldValue;return r.a.createElement(We.a,{error:d,loading:m,noValidate:!0,onSubmit:t,className:"attached"},i&&r.a.createElement(Nt,{name:"author",setFieldValue:a,label:"Select author",placeholder:"Select author",multiple:!1}),r.a.createElement(Nt,{name:"subauthors",setFieldValue:a,defaultValue:l,label:"Select subauthors",placeholder:"Select subauthors"}),r.a.createElement($e,{required:!0,label:"Title",name:"title",placeholder:"Periodicity title"}),r.a.createElement($e,{required:!0,label:"Journal",name:"journal",placeholder:"American Economic Journal"}),r.a.createElement(We.a.Group,{widths:3},r.a.createElement($e,{required:!0,label:"Issue number",name:"issueNumber",placeholder:"34"}),r.a.createElement($e,{required:!0,label:"Journal pages",name:"journalPages",placeholder:"0"}),r.a.createElement($e,{required:!0,label:"Pages",name:"pages",placeholder:"0"})),r.a.createElement(We.a.Group,{widths:3},r.a.createElement($e,{required:!0,label:"UDC",name:"udc",placeholder:"316.35"}),r.a.createElement($e,{label:"ISSN",name:"issn",placeholder:"1050-124X"}),r.a.createElement($e,{label:"DOI",name:"doi",placeholder:"10.15421/abc1234567890"})),r.a.createElement($e,{type:"textarea",label:"Annotation",name:"annotations",placeholder:"..."}),r.a.createElement($e,{type:"checkbox",label:"Scopus and Web of Science",name:"isScopusAndWS",id:"isScopusAndWS"}),r.a.createElement($e,{type:"checkbox",label:"Other scientometrics databases",name:"isScientometrics",id:"isScientometrics"}),r.a.createElement($e,{type:"checkbox",label:"Professional",name:"isProfessional",id:"isProfessional"}),r.a.createElement($e,{type:"checkbox",label:"Electronic",name:"isElectronic",id:"isElectronic"}),r.a.createElement(Ge.a,{type:"submit",color:na.main},n?"Update":"Create"))}))})),At=Object(l.a)((function(e){var t=e.onSubmit,a=e.editMode,n=void 0!==a&&a,i=e.isAdmin,o=e.post,c=void 0===o?{}:o,l=c.subauthors?c.subauthors.split(",").map((function(e){return+e})):null,s={initialValues:{title:(null===c||void 0===c?void 0:c.title)||"",udc:(null===c||void 0===c?void 0:c.udc)||"",conference:(null===c||void 0===c?void 0:c.conference)||"",city:(null===c||void 0===c?void 0:c.city)||"",dates:(null===c||void 0===c?void 0:c.dates)||"",collectionPages:(null===c||void 0===c?void 0:c.collectionPages)||"",pages:(null===c||void 0===c?void 0:c.pages)||"",issn:(null===c||void 0===c?void 0:c.issn)||null,doi:(null===c||void 0===c?void 0:c.doi)||null,annotations:(null===c||void 0===c?void 0:c.annotations)||null,isScopusAndWS:(null===c||void 0===c?void 0:c.isScopusAndWS)||!1,isScientometrics:(null===c||void 0===c?void 0:c.isScientometrics)||!1,isInternational:(null===c||void 0===c?void 0:c.isInternational)||!1,files:(null===c||void 0===c?void 0:c.files)||null,author:(null===c||void 0===c?void 0:c.author)||null,subauthors:(null===c||void 0===c?void 0:c.subauthors)||null},validationSchema:He.c().shape({}),onSubmit:t},u=Ee().userPosts.addThesis,m=u.isLoading,d=u.isError;return r.a.createElement(Je.a,s,(function(e){var t=e.handleSubmit,a=e.setFieldValue;e.values;return r.a.createElement(We.a,{error:d,loading:m,noValidate:!0,onSubmit:t,className:"attached"},i&&r.a.createElement(Nt,{name:"author",setFieldValue:a,label:"Select author",placeholder:"Select author",multiple:!1}),r.a.createElement(Nt,{name:"subauthors",setFieldValue:a,defaultValue:l,label:"Select subauthors",placeholder:"Select subauthors"}),r.a.createElement($e,{required:!0,label:"Title",name:"title",placeholder:"Thesis title"}),r.a.createElement($e,{required:!0,label:"Conference",name:"conference",placeholder:"Florida High School Hockey Association Conference"}),r.a.createElement($e,{required:!0,label:"City",name:"city",placeholder:"Ivano-Frankivsk"}),r.a.createElement($e,{required:!0,label:"Dates",name:"dates",placeholder:"13 Jan. 2018"}),r.a.createElement(We.a.Group,{widths:2},r.a.createElement($e,{required:!0,label:"Collection pages",name:"collectionPages",placeholder:"0"}),r.a.createElement($e,{required:!0,label:"Pages",name:"pages",placeholder:"0"})),r.a.createElement(We.a.Group,{widths:3},r.a.createElement($e,{required:!0,label:"UDC",name:"udc",placeholder:"316.35"}),r.a.createElement($e,{label:"ISSN",name:"issn",placeholder:"1050-124X"}),r.a.createElement($e,{label:"DOI",name:"doi",placeholder:"10.15421/abc1234567890"})),r.a.createElement($e,{type:"textarea",label:"Annotation",name:"annotations",placeholder:"..."}),r.a.createElement($e,{type:"checkbox",label:"Scopus and Web of Science",name:"isScopusAndWS",id:"isScopusAndWS"}),r.a.createElement($e,{type:"checkbox",label:"Other scientometrics databases",name:"isScientometrics",id:"isScientometrics"}),r.a.createElement($e,{type:"checkbox",label:"International conference",name:"isInternational",id:"isInternational"}),r.a.createElement(Ge.a,{type:"submit",color:na.main},n?"Update":"Create"))}))})),Mt=Object(l.a)((function(){var e=Ee(),t=Object(ye.h)(),a=e.userPosts,i=a.addPeriodic,o=a.addThesis,l=a.addMonograph,s=e.viewer.user,u=Object(n.useState)("periodicity"),d=Object(c.a)(u,2),h=d[0],p=d[1],f=function(){var a=Object(P.a)(m.a.mark((function a(n){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=n.author,c=Object(ve.a)(n,["author"]),r=r||s.id,"periodicity"===h&&i.run(Object(_.a)({author:r},c)),"thesis"===h&&o.run(Object(_.a)({author:r},c)),"monograph"===h&&l.run(Object(_.a)({author:r},c)),t.push(Object(ye.f)($t.account,{username:e.viewer.user.username}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(Oe.a,null,r.a.createElement("div",{className:_t.a.form},r.a.createElement(Re.a,{attached:!0,header:"Here you can create your post!",size:"huge"}),r.a.createElement(Te.a,{padded:"very",attached:!0},r.a.createElement(We.a,{style:{marginBottom:"17px"}},r.a.createElement(at,{getValue:function(e){return p(e[0])},formik:!1,label:"Choose post type",defaultValue:["periodicity"]},[{value:"periodicity",text:"Periodicity"},{value:"thesis",text:"Thesis"},{value:"monograph",text:"Monograph"}].map((function(e){var t=e.value,a=e.text;return r.a.createElement(tt.Option,{key:t,value:t},a)})))),"monograph"===h&&r.a.createElement(Ct,{onSubmit:f,isAdmin:s.isAdmin}),"periodicity"===h&&r.a.createElement(Tt,{onSubmit:f,isAdmin:s.isAdmin}),"thesis"===h&&r.a.createElement(At,{onSubmit:f,isAdmin:s.isAdmin}))))})),Ft=a(648),Lt=a(41),Vt=a.n(Lt),qt=function(e){var t=e.post,a=e.label,i=e.field,o=e.maybeNull;return void 0!==o&&o?r.a.createElement(n.Fragment,null,t[i]&&r.a.createElement("div",null,a,": ",r.a.createElement("span",null,t[i]))):r.a.createElement("div",null,a,": ",r.a.createElement("span",null,t[i]))},zt=Object(l.a)((function(e){var t,a,i=e.children,o=e.useCollection,l=e.apiMethodForPostEdit,s=e.apiMethodForDelete,u=e.type,m=Object(n.useState)(null),d=Object(c.a)(m,2),h=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),g=b[0],E=b[1],v=Object(ye.i)(),y=Object(ye.h)(),w=o(),O=w.collection,j=w.getById,S=w.editFiles,x=w.deleteById,P=O.get(v.id),_=Ee(),k=r.a.createRef(),I=(null===(t=_.viewer)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.id)===(null===P||void 0===P?void 0:P.author),N=P&&new Date(P.createdAt),C=P&&new Date(P.updatedAt);if(Object(n.useEffect)((function(){j.run(v.id)}),[v.id]),x.redirect)return r.a.createElement(ye.a,{to:Object(ye.f)($t.account,{username:_.viewer.user.username})});return r.a.createElement(Oe.a,{className:Vt.a.container},j.isLoading&&r.a.createElement(Ve.a,null),!j.isLoading&&!P&&r.a.createElement(Se.a,{as:"h2",icon:!0,textAlign:"center"},r.a.createElement(Ie.a,{name:"x"}),"Post not found"),P&&r.a.createElement(Te.a,{padded:!0,className:Vt.a.segment,loading:x.isLoading},r.a.createElement("div",{className:Vt.a.header},r.a.createElement(Se.a,{as:"h1"},P.title),r.a.createElement(Ze.a.Group,{size:"small",className:Vt.a.tags,tag:!0},P.isElectronic&&r.a.createElement(Ze.a,null,"Electronic"),P.isEuLanguage&&r.a.createElement(Ze.a,null,"European language"),P.isScopusAndWS&&r.a.createElement(Ze.a,null,"Scopus and Web of Science"),P.isScientometrics&&r.a.createElement(Ze.a,null,"Scientometric databases"),P.isProfessional&&r.a.createElement(Ze.a,null,"Professional"),P.isInternational&&r.a.createElement(Ze.a,null,"International conference"))),r.a.createElement("div",null,P.Users.map((function(e){var t=e.id,a=e.username;return r.a.createElement(we.b,{key:t,className:t!==P.author?Vt.a.subauthor:Vt.a.mainAuthor,to:Object(ye.f)($t.account,{username:a})},a)}))),r.a.createElement("div",{className:Vt.a.info},r.a.Children.map(i,(function(e){return r.a.cloneElement(e,{post:P})}))),r.a.createElement("p",{className:Vt.a.desc},P.annotations),r.a.createElement(Ft.a,{horizontal:!0},"Materials"),r.a.createElement("div",null,I&&(!P.files||g)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Vt.a.add_btn},h?r.a.createElement(Ge.a.Group,{attached:!0,size:"tiny"},r.a.createElement(Ge.a,{onClick:function(){p(null),E(!1)}},"Cancel"),r.a.createElement(Ge.a.Or,null),r.a.createElement(Ge.a,{onClick:function(){S.run(P.id,h,l),E(!1),p(null)},positive:!0},"Save")):r.a.createElement(Ge.a,{icon:"add",size:"tiny",content:"Add files",color:na.second,labelPosition:"left",onClick:function(){return k.current.click()}}),h&&r.a.createElement(Se.a,{as:"h5",className:Vt.a.file_attached},r.a.createElement(Ie.a,{name:"file archive"}),r.a.createElement(Se.a.Content,null,h[0].name))),r.a.createElement(Se.a,{as:"h6",color:"red",className:Vt.a.file_attached},"Attach .zip, .rar or .7z file"),r.a.createElement("input",{accept:".zip, .rar, .7z",onChange:function(e){return p(e.target.files)},ref:k,type:"file",name:"files",className:"none"})),P.files&&!g&&r.a.createElement("div",null,r.a.createElement(Ge.a,{content:"Download materials",color:na.main,icon:"download",labelPosition:"right",as:"a",href:P.files}),r.a.createElement("div",{className:Vt.a.icons},r.a.createElement(Ie.a,{name:"edit",onClick:function(){return E(!0)}},"Edit files"))),!P.files&&!g&&r.a.createElement(Se.a,{as:"h4"},"No materials")),r.a.createElement(Ft.a,null),r.a.createElement("div",{className:Vt.a.bottom},r.a.createElement("div",{className:Vt.a.date},r.a.createElement("div",null,r.a.createElement("span",null,"Created:")," ",N.toLocaleDateString()," ",N.toLocaleTimeString()),r.a.createElement("div",null,r.a.createElement("span",null,"Updated:")," ",C.toLocaleDateString()," ",C.toLocaleTimeString())),I&&r.a.createElement("div",{className:Vt.a.action_icons},r.a.createElement(Ie.a,{name:"trash",size:"large",color:"red",onClick:function(){return x.run(P.id,s)}}),r.a.createElement(Ie.a,{name:"edit",size:"large",color:"green",onClick:function(){return y.push(Object(ye.f)($t.editPost,{type:u,postId:P.id}))}})))))})),Ut=Object(l.a)((function(){return r.a.createElement(zt,{useCollection:ae,apiMethodForDelete:S.deletePeriodicity,apiMethodForPostEdit:S.editPeriodicity,type:"periodicity"},r.a.createElement(qt,{label:"UDC",field:"udc"}),r.a.createElement(qt,{label:"ISSN",field:"issn",maybeNull:!0}),r.a.createElement(qt,{label:"DOI",field:"doi",maybeNull:!0}),r.a.createElement(qt,{label:"Journal",field:"journal"}),r.a.createElement(qt,{label:"Issue number",field:"issueNumber"}),r.a.createElement(qt,{label:"Journal pages",field:"journalPages"}),r.a.createElement(qt,{label:"Pages",field:"pages"}))})),Bt=Object(l.a)((function(){return r.a.createElement(zt,{useCollection:re,apiMethodForDelete:S.deleteMonograph,apiMethodForPostEdit:S.editMonograph,type:"monograph"},r.a.createElement(qt,{label:"Section",field:"section",maybeNull:!0}),r.a.createElement(qt,{label:"ISBN",field:"isbn",maybeNull:!0}),r.a.createElement(qt,{label:"DOI",field:"doi",maybeNull:!0}),r.a.createElement(qt,{label:"Pages",field:"monographPages"}),r.a.createElement(qt,{label:"Print pages",field:"printPages"}),r.a.createElement(qt,{label:"Pages",field:"pages"}),r.a.createElement(qt,{label:"Year",field:"year"}))})),Dt=Object(l.a)((function(){return r.a.createElement(zt,{useCollection:oe,apiMethodForDelete:S.deleteThesis,apiMethodForPostEdit:S.editThesis,type:"thesis"},r.a.createElement(qt,{label:"UDC",field:"udc"}),r.a.createElement(qt,{label:"ISSN",field:"issn",maybeNull:!0}),r.a.createElement(qt,{label:"DOI",field:"doi",maybeNull:!0}),r.a.createElement(qt,{label:"Conference",field:"conference"}),r.a.createElement(qt,{label:"City",field:"city"}),r.a.createElement(qt,{label:"Dates",field:"dates"}),r.a.createElement(qt,{label:"Collection pages",field:"collectionPages"}),r.a.createElement(qt,{label:"Pages",field:"pages"}))})),Rt=a(343),Wt=a.n(Rt),Gt=Object(l.a)((function(){var e=Ee(),t=Object(ye.i)(),a="periodicity"===t.type,i="thesis"===t.type,o="monograph"===t.type,c=(a&&ae||i&&oe||o&&re)(),l=c.collection,s=c.getById,u=c.editPost,m=l.get(t.postId),d=e.viewer.user,h=a&&S.editPeriodicity||i&&S.editThesis||o&&S.editMonograph,p=a&&$t.periodicityPost||i&&$t.thesisPost||o&&$t.monographPost,f=function(e){var a=e.author,n=Object(ve.a)(e,["author"]);a=a||d.id,u.run(t.postId,Object(_.a)({author:a},n),h)};return Object(n.useEffect)((function(){s.run(t.postId)}),[t.postId]),u.redirect?r.a.createElement(ye.a,{to:Object(ye.f)(p,{id:t.postId})}):r.a.createElement(Oe.a,null,r.a.createElement("div",{className:Wt.a.form},r.a.createElement(Re.a,{attached:!0,header:"Update your post!",size:"huge"}),r.a.createElement(Te.a,{padded:"very",attached:!0,loading:u.isLoading},o&&m&&r.a.createElement(Ct,{onSubmit:f,editMode:!0,post:m}),a&&m&&r.a.createElement(Tt,{onSubmit:f,editMode:!0,post:m}),i&&m&&r.a.createElement(At,{onSubmit:f,editMode:!0,post:m}))))})),Jt=a(344),Ht=a.n(Jt),Xt=a(145),Yt=a.n(Xt),Qt=function(e){var t=e.posts,a=e.apiMethodForDelete,n=e.postCollection,i=e.type,o=n().deleteById,c=Object(ye.h)();return r.a.createElement(r.a.Fragment,null,!t[0]&&r.a.createElement(Se.a,{as:"h4"},"No posts!"),t.map((function(e){return r.a.createElement(wt.a,null,r.a.createElement(wt.a.Content,null,r.a.createElement(wt.a.Header,{as:"a"},e.title),r.a.createElement(wt.a.Extra,null,r.a.createElement(Ie.a,{onClick:function(){return t=e.id,o.run(t,a);var t},name:"trash",color:"red",size:"large",className:Yt.a.icon}),r.a.createElement(Ie.a,{onClick:function(){return c.push(Object(ye.f)($t.editPost,{type:i,postId:e.id}))},name:"edit",color:"blue",size:"large",className:Yt.a.icon}))))})))},Zt=Object(l.a)((function(){var e=Ee(),t=e.users,a=t.fetchAll,i=t.items,o=e.userPosts,l=o.fetchUserPosts,s=o.periodic,u=o.thesis,m=o.monographs,d=Object(n.useState)(),h=Object(c.a)(d,2),p=h[0],f=h[1],b=Object(n.useState)(),g=Object(c.a)(b,2),E=g[0],v=g[1],y=Object(n.useState)({show:!1,id:null}),w=Object(c.a)(y,2),O=w[0],j=w[1],x=$().deleteById,P=re,_=oe,k=ae,I=function(e,t){var a=t.index;f(p===a?-1:a)},N=function(e,t){var a=t.index;v(E===a?-1:a)},C=function(){return j({show:!1,id:null})};return Object(n.useEffect)((function(){a.run()}),[]),Object(n.useEffect)((function(){l.run(p)}),[p]),r.a.createElement(ze.a,{fluid:!0,styled:!0},r.a.createElement(Ve.a,{active:a.isLoading}),i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a.Title,{active:p===e.username,index:e.username,onClick:I},r.a.createElement(Ie.a,{name:"dropdown"}),e.usernameString),r.a.createElement(ze.a.Content,{active:p===e.username},!O.show&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{onClick:function(){return t=e.id,a=e.username,x.run(t,a);var t,a},name:"user delete",color:"red",size:"large",className:Yt.a.icon}),r.a.createElement(Ie.a,{onClick:function(){return t=e.id,j({show:!0,id:t});var t},name:"edit",color:"blue",size:"large",className:Yt.a.icon})),O.show&&O.id===e.id&&r.a.createElement(vt,{user:e,cancelEdit:C,isViewer:!1}),r.a.createElement(ze.a,{fluid:!0,styled:!0},r.a.createElement(ze.a.Title,{active:1===E,index:1,onClick:N},r.a.createElement(Ie.a,{name:"dropdown"}),"Monographs"),r.a.createElement(ze.a.Content,{active:1===E},r.a.createElement(wt.a.Group,{divided:!0},r.a.createElement(Qt,{posts:m,apiMethodForEdit:S.deleteMonograph,apiMethodForDelete:S.editMonograph,postCollection:P,type:"monograph"}))),r.a.createElement(ze.a.Title,{active:2===E,index:2,onClick:N},r.a.createElement(Ie.a,{name:"dropdown"}),"Periodicity"),r.a.createElement(ze.a.Content,{active:2===E},r.a.createElement(wt.a.Group,{divided:!0},r.a.createElement(Qt,{posts:s,apiMethodForEdit:S.deletePeriodicity,apiMethodForDelete:S.editPeriodicity,postCollection:k,type:"periodicity"}))),r.a.createElement(ze.a.Title,{active:3===E,index:3,onClick:N},r.a.createElement(Ie.a,{name:"dropdown"}),"Thesis"),r.a.createElement(ze.a.Content,{active:3===E},r.a.createElement(wt.a.Group,{divided:!0},r.a.createElement(Qt,{posts:u,apiMethodForEdit:S.deleteThesis,apiMethodForDelete:S.editThesis,postCollection:_,type:"thesis"}))))))})))})),Kt=Object(l.a)((function(){var e=Object(n.useState)("users"),t=Object(c.a)(e,2),a=t[0],i=t[1],o=function(e,t){var a=t.name;return i(a)};return r.a.createElement(Oe.a,{className:Ht.a.container},r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Column,{width:4},r.a.createElement(je.a,{fluid:!0,vertical:!0,tabular:!0},r.a.createElement(je.a.Item,{name:"users",active:"users"===a,onClick:o}),r.a.createElement(je.a.Item,{name:"reporting",active:"reporting"===a,onClick:o}))),r.a.createElement(Ae.a.Column,{stretched:!0,width:12},"users"===a&&r.a.createElement(Zt,null),"reporting"===a&&r.a.createElement(Te.a,null,"reporting"))))})),$t={home:"/",auth:"/auth",register:"/auth/register",login:"/auth/login",account:"/account/:username",monographs:"/account/:username/monographs",periodicity:"/account/:username/periodicity",thesis:"/account/:username/thesis",monographPost:"/monographs/:id",periodicityPost:"/periodicity/:id",thesisPost:"/thesis/:id",createPost:"/create",editPost:"/edit_post/:type/:postId",cathedra:"/:name",adminPanel:"/admin"},ea=Object(l.a)((function(e){var t=e.component,a=Object(ve.a)(e,["component"]),n=Ee().auth.isLoggedIn;return r.a.createElement(ye.b,Object.assign({},a,{render:function(e){var a=Object.assign({},e);return n?r.a.createElement(t,a):r.a.createElement(ye.a,{to:$t.login})}}))})),ta=function(){return r.a.createElement(we.a,null,r.a.createElement(Ce,null),r.a.createElement(ye.d,null,r.a.createElement(ye.b,{exact:!0,path:$t.home,component:De}),r.a.createElement(ye.b,{path:$t.auth,component:dt}),r.a.createElement(ea,{exact:!0,path:$t.createPost,component:Mt}),r.a.createElement(ea,{exact:!0,path:$t.editPost,component:Gt}),r.a.createElement(ea,{path:$t.account,component:xt}),r.a.createElement(ye.b,{path:$t.periodicityPost,component:Ut}),r.a.createElement(ye.b,{path:$t.monographPost,component:Bt}),r.a.createElement(ye.b,{path:$t.thesisPost,component:Dt}),r.a.createElement(ye.b,{path:$t.adminPanel,component:Kt})))},aa=function(e){var t=e.active,a=void 0!==t&&t,n=e.size,i=void 0===n?"big":n,o=e.text,c=Object(ve.a)(e,["active","size","text"]);return r.a.createElement(Ve.a,Object.assign({active:a,size:i},c),o)},na=(a(632),{main:"teal",second:"yellow",neutral:"standard"}),ra="https://ski-works.herokuapp.com/",ia=Object(l.a)((function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],i=t[1],o=fe();return Object(n.useEffect)((function(){o.bootstrap().then((function(){return i(!1)}))}),[]),r.a.createElement("div",null,r.a.createElement(ge,{value:o},a?r.a.createElement(aa,{active:a}):r.a.createElement(ta,null)))}));o.a.render(r.a.createElement(ia,null),document.getElementById("root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.60a7b6c2.chunk.js.map