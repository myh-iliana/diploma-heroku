{"version":3,"sources":["scenes/Account/components/User/User.module.scss","scenes/Account/components/PostsBlock/PostsBlock.module.scss","scenes/AdminPanel/components/Users/Users.module.scss","components/Header/Header.module.scss","scenes/Home/Home.module.scss","scenes/Auth/Register/Register.module.scss","scenes/Auth/Login/Login.module.scss","scenes/Account/Account.module.scss","img/none.svg","scenes/CreatePost/CreatePost.module.scss","components/Form/UsersSelect/UsersSelect.module.scss","scenes/EditPost/EditPost.module.scss","scenes/AdminPanel/AdminPanel.module.scss","components/Post/Post.module.scss","api/index.js","api/utils.js","stores/utils.js","stores/auth/AuthStore.js","stores/cathedras/CathedraModel.js","stores/posts/PeriodicityModel.js","stores/posts/MonographModel.js","stores/posts/ThesisModel.js","stores/users/UserModel.js","stores/users/ViewerStore.js","stores/schemas.js","stores/cathedras/CathedrasStore.js","stores/users/usersCollection.js","stores/cathedras/cathedrasCollection.js","stores/posts/periodicityCollection.js","stores/posts/monographsCollection.js","stores/posts/thesisCollection.js","stores/EntitiesStore.js","stores/files/FilesStore.js","stores/users/UsersStore.js","stores/posts/UserPostsStore.js","stores/posts/PostsStore.js","stores/RootStore.js","stores/createStore.js","components/elements/Avatar/Avatar.js","components/Header/Header.js","scenes/Home/components/UsersList/UsersList.js","scenes/Home/components/CathedrasList/CathedrasList.js","scenes/Home/components/PostsList/PostsList.js","scenes/Home/Home.js","components/Form/Error/Error.js","components/Form/Field/Field.js","components/Messages/ErrorMessage.js","components/Form/SelectField/SelectField.js","components/Form/CathedrasSelect/CathedrasSelect.js","scenes/Auth/Register/components/RegisterForm.js","scenes/Auth/Register/Register.js","scenes/Auth/Login/components/LoginForm.js","scenes/Auth/Login/Login.js","scenes/Auth/Auth.js","components/EditForm/EditForm.js","scenes/Account/components/User/User.js","scenes/Account/components/PostsBlock/PostsBlock.js","scenes/Account/Account.js","components/Form/UsersSelect/UsersSelect.js","components/PostForms/MonographForm.js","components/PostForms/PeriodicityForm.js","components/PostForms/ThesisForm.js","scenes/CreatePost/CreatePost.js","components/Post/Post.js","scenes/PeriodicPost/PeriodicPost.js","scenes/MonographPost/MonographPost.js","scenes/ThesisPost/ThesisPost.js","scenes/EditPost/EditPost.js","scenes/AdminPanel/components/Users/Users.js","scenes/AdminPanel/AdminPanel.js","scenes/routes.js","components/elements/Loader/Loader.js","components/App/App.js","index.js"],"names":["module","exports","Auth","_token","_refreshToken","setTokens","token","refreshToken","this","accessToken","localStorage","setItem","axios","defaults","headers","Authorization","isLoggedIn","logout","removeItem","undefined","login","username","password","post","register","fullName","email","passConfirm","isTeacher","cathedraId","Cathedra","get","id","Users","data","put","avatar","delete","Posts","createPeriodicity","createThesis","createMonograph","getPeriodicity","getThesis","getMonograph","getPeriodicityAll","getThesisAll","getMonographAll","editPeriodicity","editThesis","editMonograph","deletePeriodicity","deleteThesis","deleteMonograph","Files","AsyncModel","thunk","auto","model","t","isLoading","isError","errorMsg","maybeNull","union","string","frozen","redirect","actions","store","start","finish","error","err","response","setRedirect","value","merge","schema","normalize","result","entities","getRoot","run","promise","getParent","_auto","console","log","optional","createCollection","ofModel","asyncModels","collection","map","views","key","String","add","set","remove","root","item","destroy","editFiles","files","apiMethod","flow","parent","a","upload","then","file","getSnapshot","items","setFiles","apiPath","filename","deletePost","window","location","reload","editPost","res","applySnapshot","AuthStore","Api","viewer","setViewer","user","auth","setIsLoggedIn","CathedraModel","identifierNumber","name","workers","PeriodicityModel","author","number","subauthors","udc","title","journal","issueNumber","journalPages","pages","annotations","issn","doi","isScopusAndWS","isScientometrics","isProfessional","isElectronic","createdAt","updatedAt","MonographModel","section","monographPages","printPages","year","isbn","isEuLanguage","ThesisModel","conference","city","dates","collectionPages","isInternational","UserModel","identifier","maybe","isAdmin","bio","cathedra","reference","cathedras","usernameString","preProcessSnapshot","snapshot","ViewerModel","named","ViewerStore","userModel","edit","changeAvatar","PeriodicityPost","Entity","ThesisPost","MonographPost","PeriodicityCollection","ThesisCollection","MonographCollection","User","idAttribute","entity","UserCollection","CathedraCollection","CathedrasStore","array","fetchAll","setItems","useUserCollection","useStore","users","usersCollection","getUser","deleteById","cathedrasCollection","getById","usePeriodicityCollection","periodicity","periodicityCollection","useMonographsCollection","monographs","monographsCollection","useThesisCollection","thesis","thesisCollection","EntitiesStore","Object","keys","forEach","collectionName","collectionEntities","FilesStore","FormData","append","getItems","UsersStore","filter","UserPostsStore","periodic","addPeriodic","pushItem","addThesis","addMonograph","fetchUserPosts","Periodicities","Monographs","Theses","periodicityIds","monographsIds","thesisIds","field","push","PostsStore","fetchPeriodic","ids","fetchThesis","fetchMonographs","RootStore","userPosts","posts","bootstrap","getItem","createStore","create","onSnapshot","JSON","stringify","rehydrate","parse","MSTContext","createContext","Provider","mapStateToProps","useContext","Avatar","src","Image","Icon","size","observer","history","useHistory","pathToAccount","generatePath","routes","account","Container","fluid","Menu","color","colors","main","inverted","attached","Item","as","to","home","className","s","logo","position","Dropdown","trigger","icon","Link","text","createPost","adminPanel","Divider","onClick","activeClassName","nav_active","nav","UsersList","loading","List","divided","relaxed","active","verticalAlign","Content","Header","Description","textAlign","useState","activeIndex","setActiveIndex","handleClick","e","titleProps","index","useEffect","Accordion","styled","Fragment","Title","PostsList","path","activeItem","setActiveItem","handleItemClick","container","Segment","Grid","Column","width","vertical","tabular","stretched","periodicityPost","thesisPost","monographPost","Error","children","Label","basic","pointing","Field","label","required","type","props","show","setShow","useField","meta","isPassword","isCheckbox","isTextarea","fieldType","checkbox","Checkbox","checked","textarea","TextArea","style","minHeight","others","Input","Button","Form","touched","ErrorMessage","errors","header","Message","content","msg","SelectField","setFieldValue","defaultValue","formik","multiple","getValue","setActive","searchString","setSearchString","selected","setSelected","search","selection","onSelectChange","val","onRequestClose","onSearchStringChange","placeholder","disabled","onSubmit","formikProps","initialValues","validationSchema","Yup","shape","min","max","when","is","nullable","otherwise","values","handleSubmit","isMatch","noValidate","form","warning","component","Register","Login","cancelEdit","isViewer","currentUsername","currentEmail","Group","Or","positive","image","setImage","editMode","setEditMode","addImageRef","React","createRef","cathedraCollection","pathToCathedra","img","NoneImage","second","labelPosition","current","click","onChange","target","ref","edit_button","neutral","user__info","href","link","length","created","Date","Meta","date","toLocaleDateString","tags","tag","subauthor","mainAuthor","desc","Extra","floated","params","useParams","postsLoaded","padded","widths","NavLink","render","oneValue","light_text","split","submitForm","marginBottom","Record","useCollection","apiMethodForPostEdit","apiMethodForDelete","updated","segment","info","Children","child","cloneElement","horizontal","add_btn","file_attached","accept","icons","bottom","toLocaleTimeString","action_icons","postId","isPeriodicity","isThesis","isMonograph","postRoute","postCollection","activeIndexPost","setActiveIndexPost","editUserMode","setEditUserMode","monographCollection","handleClickPost","closeEditUserMode","apiMethodForEdit","PrivateRouter","Component","renderProps","Router","exact","Home","CreatePost","EditPost","Account","PeriodicPost","AdminPanel","Loader","setIsLoading","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.60a7b6c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2_PPZ\",\"img\":\"User_img__27A7Q\",\"user__info\":\"User_user__info__2JLJv\",\"link\":\"User_link__3mX2p\",\"bio\":\"User_bio__35PN-\",\"edit_button\":\"User_edit_button__2l0r6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"PostsBlock_item__nEqrl\",\"date\":\"PostsBlock_date__3njRE\",\"subauthor\":\"PostsBlock_subauthor__3R2vS\",\"mainAuthor\":\"PostsBlock_mainAuthor__C_viJ\",\"desc\":\"PostsBlock_desc__2rdP3\",\"tags\":\"PostsBlock_tags__3qJUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Users_icon__rvsbg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__1f-_0\",\"nav\":\"Header_nav__3vf5u\",\"nav_active\":\"Header_nav_active__2sNZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3-vMz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Register_form__3r9Tu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__3lW6r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Account_container__2sz8J\"};","module.exports = __webpack_public_path__ + \"static/media/none.e80d50ce.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CreatePost_form__1b5xX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"light_text\":\"UsersSelect_light_text__14p9h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"EditPost_form__pSq35\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AdminPanel_container__3JA3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Post_container__3-Mb4\",\"header\":\"Post_header__1ei55\",\"subauthor\":\"Post_subauthor__coQzx\",\"mainAuthor\":\"Post_mainAuthor__3RAwC\",\"desc\":\"Post_desc__BOnGI\",\"info\":\"Post_info__18LXx\",\"tags\":\"Post_tags__3Zx1U\",\"add_btn\":\"Post_add_btn__1iFoc\",\"file_attached\":\"Post_file_attached__20RR-\",\"bottom\":\"Post_bottom__2biE0\",\"icons\":\"Post_icons__2Yxuw\",\"action_icons\":\"Post_action_icons__Q6GSL\"};","import axios from 'axios';\nimport { setTokens, getRefreshToken, getAccessToken, deleteTokens } from './utils';\n\n// axios.interceptors.request.use(\n//   config => {\n//     if (config.url !== '/api/auth/refreshToken') {\n//       const token = getAccessToken();\n//       console.log('req', config.url)\n//       if (token) {\n//         config.headers['Authorization'] = `Bearer ${token}`;\n//       }\n//\n//       return config;\n//     }\n//     return config;\n//   },\n//   err => Promise.reject(err)\n// );\n\n//--------Refresh token if need\n// axios.interceptors.response.use(\n//   (res) => res,\n//   (err) => {\n//     const originalRequest = err.config;\n//\n//     if (err.response.status === 403 && !originalRequest._retry) {\n//       originalRequest._retry = true;\n//       const refreshToken = getRefreshToken();\n//\n//       if (refreshToken) {\n//         axios.post('/api/auth/refreshToken', { refreshToken })\n//           .then(res => {\n//             Auth.setTokens(res.data.accessToken, res.data.refreshToken);\n//             const token = getAccessToken();\n//             axios.defaults.headers.Authorization = `Bearer ${token}`;\n//             originalRequest.headers['Authorization'] = `Bearer ${token}`;\n//             const request = {...originalRequest, headers: {Authorization: `Bearer ${token}`}};\n//             return axios(request);\n//           })\n//           .catch(err => console.log('refresh error', err));\n//       }\n//     }\n//\n//     if (err.response.status === 401) console.log('log in please');\n//     return Promise.reject(err);\n//   },\n// );\n\nexport const Auth = {\n  _token: null,\n  _refreshToken: null,\n\n  setTokens(token, refreshToken) {\n    this._token = token;\n    this._refreshToken = refreshToken;\n    setTokens(token, refreshToken);\n\n    axios.defaults.headers.Authorization = `Bearer ${token}`;\n  },\n\n  isLoggedIn() {\n    return !!this._token;\n  },\n\n  logout() {\n    this._token = null;\n    deleteTokens();\n    axios.defaults.headers.Authorization = undefined;\n  },\n\n  login({ username, password }) {\n    return axios.post('/api/auth/login', { username, password });\n  },\n\n  refreshToken({ refreshToken }) {\n    return axios.post('/api/auth/refreshToken', { refreshToken });\n  },\n\n  register({ fullName, username, email, password, passConfirm, isTeacher, cathedraId }) {\n    return axios.post('/api/auth/register', {\n      fullName,\n      username,\n      email,\n      password,\n      passConfirm,\n      isTeacher,\n      cathedraId,\n    });\n  },\n};\n\nexport const Cathedra = {\n  getAll() {\n    return axios.get('/api/cathedras');\n  },\n\n  getById(id) {\n    return axios.get(`/api/cathedras/${id}`);\n  },\n};\n\nexport const Users = {\n  getUserPosts(username) {\n    return axios.get(`/api/users/${username}/posts`);\n  },\n\n  getMainUser() {\n    return axios.get('/api/users/account');\n  },\n\n  getUser(username) {\n    return axios.get(`/api/users/${username}`);\n  },\n\n  getAll() {\n    return axios.get('/api/users');\n  },\n\n  edit(data) {\n    return axios.put('/api/users/account', data);\n  },\n\n  changeAvatar(avatar) {\n    return axios.put('/api/users/account/avatar', avatar);\n  },\n\n  deleteById(id) {\n    return axios.delete(`/api/users/${id}`);\n  },\n};\n\nexport const Posts = {\n  createPeriodicity(data) {\n    return axios.post('/api/posts/periodicity', data);\n  },\n\n  createThesis(data) {\n    return axios.post('/api/posts/thesis', data);\n  },\n\n  createMonograph(data) {\n    return axios.post('/api/posts/monograph', data);\n  },\n\n  getPeriodicity(id) {\n    return axios.get(`/api/posts/periodicity/${id}`);\n  },\n\n  getThesis(id) {\n    return axios.get(`/api/posts/thesis/${id}`);\n  },\n\n  getMonograph(id) {\n    return axios.get(`/api/posts/monograph/${id}`);\n  },\n\n  getPeriodicityAll() {\n    return axios.get(`/api/posts/periodicity/all`);\n  },\n\n  getThesisAll() {\n    return axios.get(`/api/posts/thesis/all`);\n  },\n\n  getMonographAll() {\n    return axios.get(`/api/posts/monograph/all`);\n  },\n\n  editPeriodicity(id, data) {\n    return axios.put(`/api/posts/periodicity/${id}`, data);\n  },\n\n  editThesis(id, data) {\n    return axios.put(`/api/posts/thesis/${id}`, data);\n  },\n\n  editMonograph(id, data) {\n    return axios.put(`/api/posts/monograph/${id}`, data);\n  },\n\n  deletePeriodicity(id) {\n    return axios.delete(`/api/posts/periodicity/${id}`);\n  },\n\n  deleteThesis(id) {\n    return axios.delete(`/api/posts/thesis/${id}`);\n  },\n\n  deleteMonograph(id) {\n    return axios.delete(`/api/posts/monograph/${id}`);\n  },\n};\n\nexport const Files = {\n  upload(data) {\n    return axios.post('/api/upload', data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n  },\n};\n","const ACCESS_TOKEN_KEY = '_accessToken';\nconst REFRESH_TOKEN_KEY = '_refreshToken';\n\nexport const setTokens = (accessToken, refreshToken) => {\n  if (accessToken) localStorage.setItem(ACCESS_TOKEN_KEY, accessToken);\n  if (refreshToken) localStorage.setItem(REFRESH_TOKEN_KEY, refreshToken);\n};\n\nexport const getAccessToken = () => {\n  return localStorage.getItem(ACCESS_TOKEN_KEY);\n};\n\nexport const getRefreshToken = () => {\n  return localStorage.getItem(REFRESH_TOKEN_KEY);\n};\n\nexport const deleteTokens = () => {\n  localStorage.removeItem(ACCESS_TOKEN_KEY);\n  localStorage.removeItem(REFRESH_TOKEN_KEY);\n};\n","import {\n  applySnapshot, destroy,\n  getParent,\n  getRoot,\n  getSnapshot,\n  onSnapshot,\n  types as t,\n} from 'mobx-state-tree';\nimport { normalize } from 'normalizr';\nimport { apiPath } from '../components/App/App';\n\nexport function AsyncModel(thunk, auto = true) {\n  const model = t\n    .model({\n      isLoading: false,\n      isError: false,\n      errorMsg: t.maybeNull(t.union(t.string, t.frozen())),\n      redirect: false,\n    })\n    .actions((store) => ({\n      start() {\n        store.isLoading = true;\n        store.isError = false;\n        store.redirect = false;\n        store.errorMsg = null;\n      },\n\n      finish() {\n        store.isLoading = false;\n        store.redirect = false;\n      },\n\n      error(err) {\n        store.isError = true;\n        store.redirect = false;\n        if (err.response) {\n          store.errorMsg = err.response.data.error;\n        }\n      },\n\n      setRedirect(value) {\n        store.redirect = value;\n      },\n\n      merge(data, schema) {\n        const { result, entities } = normalize(data, schema);\n\n        getRoot(store).entities.merge(entities);\n\n        return result;\n      },\n\n      run(...args) {\n        const promise = thunk(...args)(store, getParent(store), getRoot(store));\n\n        if (auto) {\n          return store._auto(promise);\n        }\n\n        return promise;\n      },\n\n      async _auto(promise) {\n        try {\n          store.start();\n          await promise;\n        } catch (err) {\n          console.log(err);\n          store.error(err);\n        } finally {\n          store.finish();\n        }\n      },\n    }));\n\n  return t.optional(model, {});\n}\n\nexport function createCollection(ofModel, asyncModels = {}) {\n  const collection = t\n    .model('CollectionModel', {\n      collection: t.map(ofModel),\n      ...asyncModels,\n    })\n    .views((store) => ({\n      get(key) {\n        return store.collection.get(String(key));\n      },\n    }))\n    .actions((store) => ({\n      add(key, value) {\n        store.collection.set(String(key), value);\n      },\n\n      remove(key, root) {\n        const item = store.collection.get(String(key));\n        root.remove(key);\n        destroy(item);\n      }\n    }));\n\n  return t.optional(collection, {});\n}\n\nexport function createPersist(store) {\n  const KEY = '_persist';\n\n  onSnapshot(store, (snapshot) => {\n    localStorage.setItem(\n      KEY,\n      JSON.stringify({\n        auth: { isLoggedIn: snapshot.auth.isLoggedIn },\n        viewer: { user: snapshot.viewer.user },\n      }),\n    );\n  });\n\n  function rehydrate() {\n    const snapshot = localStorage.getItem(KEY);\n\n    if (snapshot) {\n      applySnapshot(store, JSON.parse(snapshot));\n    }\n  }\n\n  return { rehydrate };\n}\n\nexport function editFiles(id, files, apiMethod) {\n  return async (flow, parent, root) => {\n    const post = parent.get(id);\n\n    root.files.upload.run(files).then(async () => {\n      const file = getSnapshot(root.files.items);\n\n      if (file[0]) {\n        post.setFiles(apiPath + file[0].filename);\n\n        await apiMethod({ id, files: apiPath + file[0].filename });\n      }\n    });\n  };\n}\n\nexport function deletePost(id, apiMethod) {\n  return async (flow) => {\n    await apiMethod(id);\n\n    window.location.reload();\n\n    flow.setRedirect(true);\n  };\n}\n\nexport function editPost(id, data, apiMethod) {\n  return async (flow, parent) => {\n    const post = parent.get(id);\n    const res = await apiMethod(id, data);\n\n    applySnapshot(post, res.data);\n\n    flow.setRedirect(true);\n  };\n}\n","import { types as t } from 'mobx-state-tree';\nimport { AsyncModel } from '../utils';\nimport * as Api from '../../api';\n\nexport const AuthStore = t.model('AuthStore', {\n  login: AsyncModel(loginFlow),\n  register: AsyncModel(registerFlow),\n  refreshToken: AsyncModel(refreshTokenFlow),\n  isLoggedIn: false,\n}).actions(store => ({\n  setIsLoggedIn(value) {\n    store.isLoggedIn = value;\n  },\n\n  logout() {\n    store.isLoggedIn = false;\n    Api.Auth.logout();\n  },\n}));\n\nfunction refreshTokenFlow({ refreshToken }) {\n  return async (flow, parent, root) => {\n    const res = await Api.Auth.refreshToken({ refreshToken });\n\n    Api.Auth.setTokens(res.data.accessToken, res.data.refreshToken);\n    root.auth.setIsLoggedIn(true);\n  };\n}\n\nfunction loginFlow({ username, password }) {\n  return async (flow, parent, root) => {\n    const res = await Api.Auth.login({ username, password });\n\n    if (res.data) {\n      Api.Auth.setTokens(res.data.accessToken, res.data.refreshToken);\n      root.viewer.setViewer(res.data.user);\n      root.auth.setIsLoggedIn(true);\n      flow.setRedirect(true);\n    }\n  };\n}\n\nfunction registerFlow({ fullName, username, email, password, passConfirm, isTeacher, cathedraId }) {\n  return async (flow, parent, root) => {\n    await Api.Auth.register({\n      fullName,\n      username,\n      email,\n      password,\n      passConfirm,\n      isTeacher,\n      cathedraId,\n    });\n\n    flow.setRedirect(true);\n  };\n}\n","import { types as t } from 'mobx-state-tree';\n\nexport const CathedraModel = t.model('CathedraModel', {\n  id: t.identifierNumber,\n  name: t.string,\n  workers: t.optional(t.frozen(), []),\n});\n","import { types as t } from 'mobx-state-tree';\n\nexport const PeriodicityModel = t\n  .model('PeriodicityModel', {\n    id: t.identifierNumber,\n    author: t.number,\n    subauthors: t.maybeNull(t.string),\n    udc: t.string,\n    title: t.string,\n    journal: t.string,\n    issueNumber: t.union(t.number, t.string),\n    journalPages: t.string,\n    pages: t.string,\n    annotations: t.maybeNull(t.string),\n    issn: t.maybeNull(t.string),\n    doi: t.maybeNull(t.string),\n    isScopusAndWS: false,\n    isScientometrics: false,\n    isProfessional: false,\n    isElectronic: false,\n    files: t.maybeNull(t.string),\n    createdAt: t.string,\n    updatedAt: t.string,\n\n    Users: t.optional(t.frozen(), []),\n  })\n  .actions((store) => ({\n    setFiles(value) {\n      store.files = value;\n    },\n  }));\n","import { types as t } from 'mobx-state-tree';\n\nexport const MonographModel = t\n  .model('MonographModel', {\n    id: t.identifierNumber,\n    author: t.number,\n    subauthors: t.maybeNull(t.string),\n    title: t.string,\n    section: t.string,\n    monographPages: t.string,\n    printPages: t.string,\n    pages: t.string,\n    year: t.number,\n    annotations: t.maybeNull(t.string),\n    isbn: t.maybeNull(t.string),\n    doi: t.maybeNull(t.string),\n    isEuLanguage: false,\n    files: t.maybeNull(t.string),\n    createdAt: t.string,\n    updatedAt: t.string,\n\n    Users: t.optional(t.frozen(), []),\n  })\n  .actions((store) => ({\n    setFiles(value) {\n      store.files = value;\n    },\n  }));\n","import { types as t } from 'mobx-state-tree';\n\nexport const ThesisModel = t\n  .model('ThesisModel', {\n    id: t.identifierNumber,\n    author: t.number,\n    subauthors: t.maybeNull(t.string),\n    udc: t.string,\n    title: t.string,\n    conference: t.string,\n    city: t.string,\n    dates: t.string,\n    collectionPages: t.string,\n    pages: t.string,\n    annotations: t.maybeNull(t.string),\n    issn: t.maybeNull(t.string),\n    doi: t.maybeNull(t.string),\n    isScopusAndWS: false,\n    isScientometrics: false,\n    isInternational: false,\n    files: t.maybeNull(t.string),\n    createdAt: t.string,\n    updatedAt: t.string,\n\n    Users: t.optional(t.frozen(), []),\n  })\n  .actions((store) => ({\n    setFiles(value) {\n      store.files = value;\n    },\n  }));\n","import { getRoot, types as t } from 'mobx-state-tree';\nimport { CathedraModel } from '../cathedras/CathedraModel';\nimport { PeriodicityModel } from '../posts/PeriodicityModel';\nimport { MonographModel } from '../posts/MonographModel';\nimport { ThesisModel } from '../posts/ThesisModel';\n\nexport const UserModel = t.model('UserModel', {\n  username: t.identifier,\n  id: t.number,\n  fullName: t.string,\n  email: t.maybe(t.string),\n  isTeacher: false,\n  isAdmin: false,\n  cathedraId: t.maybeNull(t.number),\n  createdAt: t.string,\n  updatedAt: t.string,\n  avatar: t.maybeNull(t.string),\n  bio: t.maybeNull(t.string),\n\n  cathedra: t.maybeNull(\n    t.reference(CathedraModel, {\n      get(identifier, parent) {\n        if (identifier) {\n          return getRoot(parent).entities.cathedras.get(identifier) || identifier;\n        }\n\n        return null;\n      },\n\n      set(value) {\n        return value.id;\n      },\n    }),\n  ),\n\n  usernameString: t.string,\n})\n  .preProcessSnapshot(snapshot => {\n    if (snapshot) {\n      return {\n        ...snapshot,\n        cathedra: snapshot.cathedra || snapshot.cathedraId,\n        usernameString: snapshot.username,\n      };\n    }\n  });\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { UserModel } from './UserModel';\nimport { AsyncModel } from '../utils';\n\nconst ViewerModel = UserModel.named('ViewerModel');\n\nexport const ViewerStore = t\n  .model('ViewerStore', {\n    user: t.maybe(ViewerModel),\n    userModel: t.maybe(UserModel),\n    edit: AsyncModel(edit),\n    changeAvatar: AsyncModel(changeAvatar),\n  })\n  .actions((store) => ({\n    setViewer(user) {\n      store.user = user;\n    },\n  }));\n\nfunction edit(data) {\n  return async (flow, parent) => {\n    const res = await Api.Users.edit(data);\n\n    parent.setViewer(res.data);\n    flow.setRedirect(true);\n  };\n}\n\nfunction changeAvatar(avatar) {\n  return async (flow, parent) => {\n    const res = await Api.Users.changeAvatar(avatar);\n\n    parent.setViewer(res.data);\n    flow.setRedirect(true);\n  };\n}\n","import { schema } from 'normalizr';\n\nexport const PeriodicityPost = new schema.Entity('periodicity');\nexport const ThesisPost = new schema.Entity('thesis');\nexport const MonographPost = new schema.Entity('monographs');\n\nexport const PeriodicityCollection = [PeriodicityPost];\nexport const ThesisCollection = [ThesisPost];\nexport const MonographCollection = [MonographPost];\n\nexport const User = new schema.Entity('users', {}, {\n  idAttribute: (entity) => entity.username,\n});\nexport const UserCollection = [User];\n\nexport const Cathedra = new schema.Entity('cathedras', {\n  // workers: User\n});\nexport const CathedraCollection = [Cathedra];\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { CathedraModel } from './CathedraModel';\nimport { AsyncModel } from '../utils';\nimport { CathedraCollection } from '../schemas';\n\nexport const CathedrasStore = t\n  .model('CathedrasStore', {\n    items: t.array(t.reference(CathedraModel)),\n    fetchAll: AsyncModel(fetchAll),\n  })\n  .actions((store) => ({\n    setItems(value) {\n      store.items = value;\n    },\n  }));\n\nfunction fetchAll() {\n  return async (flow, parent) => {\n    const res = await Api.Cathedra.getAll();\n    const result = flow.merge(res.data, CathedraCollection);\n\n    parent.setItems(result);\n  };\n}\n","import * as Api from 'src/api';\nimport { UserModel } from './UserModel';\nimport { AsyncModel, createCollection } from '../utils';\nimport { useStore } from '../createStore';\nimport { User } from '../schemas';\nimport { applySnapshot, destroy, getRoot } from 'mobx-state-tree';\n\nexport function useUserCollection() {\n  const store = useStore();\n\n  return store.entities.users;\n}\n\nexport const usersCollection = createCollection(UserModel, {\n  getUser: AsyncModel(getUser),\n  edit: AsyncModel(edit),\n  deleteById: AsyncModel(deleteById),\n});\n\nfunction getUser(username) {\n  return async (flow, parent) => {\n    if (parent.get(username)) {\n      return parent.get(username);\n    } else {\n      const res = await Api.Users.getUser(username);\n\n      flow.merge(res.data, User);\n    }\n  };\n}\n\nfunction edit(data) {\n  return async (flow) => {\n    await Api.Users.edit(data);\n    window.location.reload();\n\n    flow.setRedirect(true);\n  };\n}\n\nfunction deleteById(id, username) {\n  return async (flow, parent) => {\n    await Api.Users.deleteById(id);\n\n    parent.remove(username, getRoot(parent).users);\n\n    flow.setRedirect(true);\n  };\n}\n\n","import * as Api from 'src/api';\nimport { CathedraModel } from './CathedraModel';\nimport { AsyncModel, createCollection } from '../utils';\nimport { useStore } from '../createStore';\nimport { Cathedra } from '../schemas';\n\nexport function useCathedrasCollection() {\n  const store = useStore();\n\n  return store.entities.cathedras;\n}\n\nexport const cathedrasCollection = createCollection(CathedraModel, {\n  getById: AsyncModel(getById),\n});\n\nfunction getById(id) {\n  return async (flow, parent) => {\n    const cathedra = parent.get(id);\n\n    if (cathedra) return cathedra;\n\n    if (!cathedra) {\n      const res = await Api.Cathedra.getById(id);\n\n      flow.merge(res.data, Cathedra);\n    }\n  };\n}\n\n","import * as Api from 'src/api';\nimport { AsyncModel, createCollection, deletePost, editFiles, editPost } from '../utils';\nimport { useStore } from '../createStore';\nimport { PeriodicityModel } from './PeriodicityModel';\nimport { PeriodicityPost } from '../schemas';\n\nexport function usePeriodicityCollection() {\n  const store = useStore();\n\n  return store.entities.periodicity;\n}\n\nexport const periodicityCollection = createCollection(PeriodicityModel, {\n  getById: AsyncModel(getById),\n  editFiles: AsyncModel(editFiles),\n  deleteById: AsyncModel(deletePost),\n  editPost: AsyncModel(editPost),\n});\n\nfunction getById(id) {\n  return async (flow, parent) => {\n    if (parent.get(id)) {\n      return parent.get(id);\n    } else {\n      const res = await Api.Posts.getPeriodicity(id);\n\n      flow.merge(res.data, PeriodicityPost);\n    }\n  };\n}\n","import * as Api from 'src/api';\nimport { AsyncModel, createCollection, deletePost, editFiles, editPost } from '../utils';\nimport { useStore } from '../createStore';\nimport { MonographPost } from '../schemas';\nimport { MonographModel } from './MonographModel';\n\nexport function useMonographsCollection() {\n  const store = useStore();\n\n  return store.entities.monographs;\n}\n\nexport const monographsCollection = createCollection(MonographModel, {\n  getById: AsyncModel(getById),\n  editFiles: AsyncModel(editFiles),\n  deleteById: AsyncModel(deletePost),\n  editPost: AsyncModel(editPost),\n});\n\nfunction getById(id) {\n  return async (flow, parent) => {\n    const post = parent.get(id);\n\n    if (post) return post;\n\n    if (!post) {\n      const res = await Api.Posts.getMonograph(id);\n\n      flow.merge(res.data, MonographPost);\n    }\n  };\n}\n","import * as Api from 'src/api';\nimport { AsyncModel, createCollection, deletePost, editFiles, editPost } from '../utils';\nimport { useStore } from '../createStore';\nimport { ThesisPost } from '../schemas';\nimport { ThesisModel } from './ThesisModel';\n\nexport function useThesisCollection() {\n  const store = useStore();\n\n  return store.entities.thesis;\n}\n\nexport const thesisCollection = createCollection(ThesisModel, {\n  getById: AsyncModel(getById),\n  editFiles: AsyncModel(editFiles),\n  deleteById: AsyncModel(deletePost),\n  editPost: AsyncModel(editPost),\n});\n\nfunction getById(id) {\n  return async (flow, parent) => {\n    const post = parent.get(id);\n\n    if (post) return post;\n\n    if (!post) {\n      const res = await Api.Posts.getThesis(id);\n\n      flow.merge(res.data, ThesisPost);\n    }\n  };\n}\n\n","import { types as t } from 'mobx-state-tree';\nimport { usersCollection } from './users/usersCollection';\nimport { cathedrasCollection } from './cathedras/cathedrasCollection';\nimport { periodicityCollection } from './posts/periodicityCollection';\nimport { monographsCollection } from './posts/monographsCollection';\nimport { thesisCollection } from './posts/thesisCollection';\n\nexport const EntitiesStore = t\n  .model('EntitiesStore', {\n    users: usersCollection,\n    cathedras: cathedrasCollection,\n    periodicity: periodicityCollection,\n    thesis: thesisCollection,\n    monographs: monographsCollection,\n  })\n  .actions((store) => ({\n    merge(entities) {\n      Object.keys(entities).forEach((collectionName) => {\n        const collectionEntities = entities[collectionName];\n\n        Object.keys(collectionEntities).forEach((id) => {\n          const value = collectionEntities[id];\n\n          store[collectionName].add(id, value);\n        });\n      });\n    },\n  }));\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { AsyncModel } from '../utils';\n\nexport const FilesStore = t\n  .model('FilesStore', {\n    upload: AsyncModel(upload),\n    items: t.optional(t.array(t.frozen()), []),\n  })\n  .actions((store) => ({\n    setItems(value) {\n      store.items = value;\n    },\n\n    getItems() {\n      return store.items[0];\n    }\n  }));\n\nfunction upload(files) {\n  return async (flow, parent) => {\n    const data = new FormData();\n\n    [...files].forEach((file) => data.append(`files`, file));\n\n    const res = await Api.Files.upload(data);\n\n    parent.setItems(res.data);\n  };\n}\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { UserModel } from './UserModel';\nimport { AsyncModel } from '../utils';\nimport { UserCollection } from '../schemas';\n\nexport const UsersStore = t\n  .model('CathedrasStore', {\n    items: t.array(t.reference(UserModel)),\n    fetchAll: AsyncModel(fetchAll),\n  })\n  .actions((store) => ({\n    setItems(value) {\n      store.items = value;\n    },\n\n    remove(key) {\n      store.items = store.items.filter(item => item.username !== key);\n    },\n  }));\n\nfunction fetchAll() {\n  return async (flow, parent) => {\n    const res = await Api.Users.getAll();\n    const result = flow.merge(res.data, UserCollection);\n\n    parent.setItems(result);\n  };\n};\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { AsyncModel } from '../utils';\nimport { MonographModel } from './MonographModel';\nimport { PeriodicityModel } from './PeriodicityModel';\nimport { ThesisModel } from './ThesisModel';\nimport {\n  MonographCollection,\n  MonographPost,\n  PeriodicityCollection,\n  PeriodicityPost,\n  ThesisCollection,\n  ThesisPost,\n} from '../schemas';\n\nexport const UserPostsStore = t\n  .model('UserPostsStore', {\n    periodic: t.array(t.reference(PeriodicityModel)),\n    thesis: t.array(t.reference(ThesisModel)),\n    monographs: t.array(t.reference(MonographModel)),\n\n    addPeriodic: AsyncModel(addPeriodic),\n    addThesis: AsyncModel(addThesis),\n    addMonograph: AsyncModel(addMonograph),\n\n    fetchUserPosts: AsyncModel(fetchUserPosts),\n  })\n  .actions((store) => ({\n    setItems(field, value) {\n      store[field] = value;\n    },\n\n    pushItem(field, value) {\n      store[field].push(value);\n    },\n  }));\n\nfunction fetchUserPosts(username) {\n  return async (flow, parent) => {\n    const res = await Api.Users.getUserPosts(username);\n\n    const { Periodicities, Monographs, Theses } = res.data;\n\n    const periodicityIds = flow.merge(Periodicities, PeriodicityCollection);\n    const monographsIds = flow.merge(Monographs, MonographCollection);\n    const thesisIds = flow.merge(Theses, ThesisCollection);\n\n    parent.setItems('periodic', periodicityIds);\n    parent.setItems('thesis', thesisIds);\n    parent.setItems('monographs', monographsIds);\n  };\n}\n\nfunction addPeriodic(data) {\n  return async (flow, parent) => {\n    const res = await Api.Posts.createPeriodicity(data);\n    const id = flow.merge(res.data, PeriodicityPost);\n\n    parent.pushItem('periodic', id);\n  };\n}\n\nfunction addThesis(data) {\n  return async (flow, parent) => {\n    const res = await Api.Posts.createThesis(data);\n    const id = flow.merge(res.data, ThesisPost);\n\n    parent.pushItem('thesis', id);\n  };\n}\n\nfunction addMonograph(data) {\n  return async (flow, parent) => {\n    const res = await Api.Posts.createMonograph(data);\n    const id = flow.merge(res.data, MonographPost);\n\n    parent.pushItem('monographs', id);\n  };\n}\n","import { types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { AsyncModel } from '../utils';\nimport { MonographModel } from './MonographModel';\nimport { PeriodicityModel } from './PeriodicityModel';\nimport { ThesisModel } from './ThesisModel';\nimport { MonographCollection, PeriodicityCollection, ThesisCollection } from '../schemas';\n\nexport const PostsStore = t\n  .model('UserPostsStore', {\n    periodic: t.array(t.reference(PeriodicityModel)),\n    thesis: t.array(t.reference(ThesisModel)),\n    monographs: t.array(t.reference(MonographModel)),\n\n    fetchPeriodic: AsyncModel(fetchPeriodic),\n    fetchThesis: AsyncModel(fetchThesis),\n    fetchMonographs: AsyncModel(fetchMonographs),\n  })\n  .actions((store) => ({\n    setItems(field, value) {\n      store[field] = value;\n    },\n  }));\n\nfunction fetchPeriodic() {\n  return async (flow, parent) => {\n    const res = await Api.Posts.getPeriodicityAll();\n\n    console.log(res.data)\n\n    const ids = flow.merge(res.data, PeriodicityCollection);\n\n    parent.setItems('periodic', ids);\n  };\n}\n\nfunction fetchThesis() {\n  return async (flow, parent) => {\n    const res = await Api.Posts.getThesisAll();\n\n    const ids = flow.merge(res.data, ThesisCollection);\n\n    parent.setItems('thesis', ids);\n  };\n}\n\nfunction fetchMonographs() {\n  return async (flow, parent) => {\n    const res = await Api.Posts.getMonographAll();\n\n    const ids = flow.merge(res.data, MonographCollection);\n\n    parent.setItems('monographs', ids);\n  };\n}\n","import { flow, types as t } from 'mobx-state-tree';\n\nimport * as Api from 'src/api';\nimport { AuthStore } from './auth/AuthStore';\nimport { ViewerStore } from './users/ViewerStore';\nimport { CathedrasStore } from './cathedras/CathedrasStore';\nimport { getAccessToken, getRefreshToken } from '../api/utils';\nimport { EntitiesStore } from './EntitiesStore';\nimport { FilesStore } from './files/FilesStore';\nimport { UsersStore } from './users/UsersStore';\nimport { UserPostsStore } from './posts/UserPostsStore';\nimport { PostsStore } from './posts/PostsStore';\n\nexport const RootStore = t\n  .model('RootStore', {\n    auth: t.optional(AuthStore, {}),\n\n    viewer: t.optional(ViewerStore, {}),\n    users: t.optional(UsersStore, {}),\n    userPosts: t.optional(UserPostsStore, {}),\n    posts: t.optional(PostsStore, {}),\n\n    cathedras: t.optional(CathedrasStore, {}),\n\n    files: t.optional(FilesStore, {}),\n\n    entities: t.optional(EntitiesStore, {}),\n  })\n  .actions((store) => ({\n    bootstrap: flow(function* bootstrap() {\n      try {\n        const token = getAccessToken();\n        const refreshToken = getRefreshToken();\n\n        Api.Auth.setTokens(token, refreshToken);\n\n        if (token) {\n          store.auth.setIsLoggedIn(true);\n          const res = yield Api.Users.getMainUser();\n\n          store.viewer.setViewer(res.data);\n        } else {\n          store.auth.setIsLoggedIn(false);\n          store.viewer.setViewer(undefined);\n          Api.Auth.logout();\n        }\n      } catch (err) {\n        store.auth.setIsLoggedIn(false);\n        store.viewer.setViewer(undefined);\n        Api.Auth.logout();\n      }\n    }),\n  }));\n","import { createContext, useContext } from 'react';\nimport { onSnapshot } from 'mobx-state-tree';\n\nimport { RootStore } from './RootStore';\nimport { createPersist } from './utils';\n\nexport const createStore = () => {\n  const root = RootStore.create();\n\n  const persist = createPersist(root);\n  persist.rehydrate();\n\n  onSnapshot(root, (snapshot) => {\n    // console.log(JSON.stringify(snapshot.posts, null, 2));\n  });\n\n  return root;\n};\n\nconst MSTContext = createContext(null);\n\nexport const Provider = MSTContext.Provider;\n\nexport const useStore = (mapStateToProps) => {\n  const store = useContext(MSTContext);\n\n  if (typeof mapStateToProps === 'function') {\n    return mapStateToProps(store);\n  }\n\n  return store;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Icon, Image } from 'semantic-ui-react';\n\nconst Avatar = ({ src }) => {\n  return (\n    <div>\n      {src ? <Image avatar src={src} /> : <Icon size='large' name=\"user circle\" />}\n    </div>\n  );\n};\n\nAvatar.propTypes = {\n  src: PropTypes.string.isRequired,\n};\n\nexport default Avatar;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Link, NavLink, generatePath, useHistory } from 'react-router-dom';\nimport { Container, Menu, Header as SemanticHeader, Dropdown } from 'semantic-ui-react';\n\nimport s from './Header.module.scss';\nimport { routes } from '../../scenes/routes';\nimport { colors } from '../App/App';\nimport { useStore } from '../../stores/createStore';\nimport Avatar from '../elements/Avatar/Avatar';\n\nconst Header = () => {\n  const history = useHistory();\n  const store = useStore();\n  const { isLoggedIn } = store.auth;\n  const { avatar, isAdmin } = isLoggedIn && store.viewer.user;\n  const pathToAccount = isLoggedIn && generatePath(routes.account, {\n    username: store.viewer.user.username,\n  });\n\n  const handleSignOut = () => {\n    store.auth.logout();\n    history.push(routes.home);\n  };\n\n  return (\n    <Container fluid>\n      <Menu size=\"large\" color={colors.main} inverted attached>\n        <Menu.Item>\n          <SemanticHeader as=\"h1\">\n            <Link to={routes.home} className={s.logo}>\n              SciWorks\n            </Link>\n          </SemanticHeader>\n        </Menu.Item>\n\n        <Menu.Menu position=\"right\">\n          {isLoggedIn && (\n            <Dropdown item trigger={<Avatar src={avatar} />}>\n              <Dropdown.Menu>\n                <Dropdown.Item icon=\"user\" as={Link} to={pathToAccount} text=\"Profile\" />\n                <Dropdown.Item icon=\"add\" as={Link} to={routes.createPost} text=\"New post\" />\n                {isAdmin && <Dropdown.Item icon=\"cog\" as={Link} to={routes.adminPanel} text=\"Admin panel\" />}\n                <Dropdown.Divider />\n                <Dropdown.Item icon=\"sign out\" text=\"Sign out\" onClick={handleSignOut} />\n              </Dropdown.Menu>\n            </Dropdown>\n          )}\n          {!isLoggedIn && (\n            <Menu.Item>\n              <NavLink to={routes.login} activeClassName={s.nav_active} className={s.nav}>\n                Sign In\n              </NavLink>\n            </Menu.Item>\n          )}\n        </Menu.Menu>\n      </Menu>\n    </Container>\n  );\n};\n\nexport default observer(Header);\n","import React from 'react';\nimport { Header, List, Loader } from 'semantic-ui-react';\nimport { generatePath, Link } from 'react-router-dom';\nimport { routes } from '../../../routes';\n\nconst UsersList = ({ items, loading }) => {\n  if (!loading && !items[0]) {\n    return <Header as='h4' textAlign='center'>No users</Header>\n  }\n\n  return (\n    <List divided relaxed>\n      <Loader active={loading} />\n      {items.map(({ username, fullName }) => (\n        <List.Item>\n          <List.Icon name=\"user\" size=\"large\" verticalAlign=\"middle\" />\n          <List.Content>\n            <List.Header as={Link} to={generatePath(routes.account, { username })}>\n              {username}\n            </List.Header>\n            <List.Description as=\"a\">{fullName}</List.Description>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  );\n};\n\nexport default UsersList;\n","import React, { useEffect, useState } from 'react';\nimport { Accordion, Header, Icon, Loader } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport { useStore } from '../../../../stores/createStore';\nimport UsersList from '../UsersList/UsersList';\n\nconst CathedrasList = () => {\n  const [activeIndex, setActiveIndex] = useState();\n  const store = useStore();\n  const { fetchAll, items } = store.cathedras;\n\n  const handleClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const newIndex = activeIndex === index ? -1 : index;\n\n    setActiveIndex(newIndex)\n  };\n\n  useEffect(() => {\n    fetchAll.run();\n  }, []);\n\n  if (!fetchAll.isLoading && !items[0]) {\n    return <Header as='h4' textAlign='center'>No cathedras</Header>\n  }\n\n  return (\n    <Accordion fluid styled>\n      <Loader active={fetchAll.isLoading} />\n      {items.map(({ id, name, workers }) => (\n        <React.Fragment>\n          <Accordion.Title\n            active={activeIndex === id}\n            index={id}\n            onClick={handleClick}\n          >\n            <Icon name='dropdown' />\n            {name}\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === id}>\n            <UsersList loading={fetchAll.isLoading} items={workers} />\n          </Accordion.Content>\n        </React.Fragment>\n      ))}\n    </Accordion>\n  );\n};\n\nexport default observer(CathedrasList);\n","import React from 'react';\nimport { Header, List, Loader } from 'semantic-ui-react';\nimport { generatePath, Link } from 'react-router-dom';\n\nconst PostsList = ({ loading, items, path }) => {\n  if (!loading && !items[0]) {\n    return <Header as='h4' textAlign='center'>No posts</Header>\n  }\n\n  return (\n    <List divided relaxed>\n      <Loader active={loading} />\n      {items.map(({ title, id }) => (\n        <List.Item>\n          <List.Icon name=\"book\" size=\"large\" verticalAlign=\"middle\" />\n          <List.Content>\n            <List.Header as={Link} to={generatePath(path, { id })}>\n              {title}\n            </List.Header>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  );\n};\n\nexport default PostsList;\n","import React, { useEffect, useState } from 'react';\nimport { generatePath, Link } from 'react-router-dom';\nimport { Container, Grid, List, Menu, Segment } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport s from './Home.module.scss';\nimport { useStore } from '../../stores/createStore';\nimport { routes } from '../routes';\nimport UsersList from './components/UsersList/UsersList';\nimport CathedrasList from './components/CathedrasList/CathedrasList';\nimport PostsList from './components/PostsList/PostsList';\n\nconst Home = () => {\n  const [activeItem, setActiveItem] = useState('users');\n  const store = useStore();\n  const { fetchAll, items } = store.users;\n  const { fetchPeriodic, fetchThesis, fetchMonographs, periodic, thesis, monographs } = store.posts;\n\n  const handleItemClick = (e, { name }) => setActiveItem(name);\n\n  useEffect(() => {\n    fetchAll.run();\n    fetchPeriodic.run();\n    fetchThesis.run();\n    fetchMonographs.run();\n  }, []);\n\n  return (\n    <Container className={s.container}>\n      <Segment>\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu fluid vertical tabular>\n              <Menu.Item name=\"users\" active={activeItem === 'users'} onClick={handleItemClick} />\n              <Menu.Item\n                name=\"cathedras\"\n                active={activeItem === 'cathedras'}\n                onClick={handleItemClick}\n              />\n              <Menu.Item\n                name=\"periodicity\"\n                active={activeItem === 'periodicity'}\n                onClick={handleItemClick}\n              />\n              <Menu.Item\n                name=\"thesis\"\n                active={activeItem === 'thesis'}\n                onClick={handleItemClick}\n              />\n              <Menu.Item\n                name=\"monographs\"\n                active={activeItem === 'monographs'}\n                onClick={handleItemClick}\n              />\n            </Menu>\n          </Grid.Column>\n\n          <Grid.Column stretched width={12}>\n            {activeItem === 'users' && <UsersList items={items} loading={fetchAll.isLoading} />}\n            {activeItem === 'cathedras' && <CathedrasList />}\n            {activeItem === 'periodicity' && <PostsList path={routes.periodicityPost} items={periodic} loading={fetchPeriodic.isLoading} />}\n            {activeItem === 'thesis' && <PostsList path={routes.thesisPost} items={thesis} loading={fetchThesis.isLoading} />}\n            {activeItem === 'monographs' && <PostsList path={routes.monographPost} items={monographs} loading={fetchMonographs.isLoading} />}\n          </Grid.Column>\n        </Grid>\n      </Segment>\n    </Container>\n  );\n};\n\nexport default observer(Home);\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nconst Error = ({ children }) => {\n  return (\n    <Label basic color=\"red\" pointing>\n      {children}\n    </Label>\n  );\n};\n\nError.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Error;\n","import React, { Fragment, useState } from 'react';\nimport { Form, Input, Icon, Button, Checkbox, TextArea } from 'semantic-ui-react';\nimport { useField } from 'formik';\nimport PropTypes from 'prop-types';\n\nimport Error from '../Error/Error';\n\nconst Field = ({ children, label, required = false, type = 'text', ...props }) => {\n  const [show, setShow] = useState(false);\n  const [field, meta] = useField(props);\n\n  const isPassword = type === 'password';\n  const isCheckbox = type === 'checkbox';\n  const isTextarea = type === 'textarea';\n  const passwordFieldType = isPassword && show ? 'text' : 'password';\n  const fieldType = isPassword ? passwordFieldType : type;\n\n  const showPassword = () => setShow(!show);\n\n  const checkbox = (\n    <Checkbox label={label} type=\"checkbox\" checked={meta.value} {...props} {...field} />\n  );\n\n  const textarea = (\n    <Fragment>\n      <label>{label}</label>\n      <TextArea\n        style={{minHeight: '300px'}}\n        value={meta.value}\n        {...field}\n        {...props}\n      />\n    </Fragment>\n  );\n\n  const others = (\n    <Fragment>\n      <label>{label}</label>\n      <Input icon>\n        <input type={fieldType} {...props} {...field} value={meta.value} />\n        {isPassword && (\n          <Button type=\"button\" icon onClick={showPassword}>\n            <Icon name={show ? 'eye' : 'eye slash'} />\n          </Button>\n        )}\n      </Input>\n    </Fragment>\n  );\n\n  return (\n    <Form.Field required={required} error={meta.touched && meta.error && true}>\n      {isCheckbox && checkbox}\n      {isTextarea && textarea}\n      {!isCheckbox && !isTextarea && others}\n\n      {meta.touched && meta.error && meta.error !== 'Please enter a value' && (\n        <Error>{meta.error}</Error>\n      )}\n      {}\n    </Form.Field>\n  );\n};\n\nField.propTypes = {\n  label: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  required: PropTypes.bool,\n  type: PropTypes.string,\n};\n\nexport default Field;\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nconst ErrorMessage = ({ errors, header = \"Something went wrong\", ...props }) => {\n  return (\n    <Message\n      error\n      header={header}\n      content={errors.map((error) => (\n        <span>\n          {error.msg}\n          <br />\n        </span>\n      ))}\n      {...props}\n    />\n  );\n};\n\nErrorMessage.propTypes = {\n  errors: PropTypes.array.isRequired,\n  header: PropTypes.string,\n};\n\nexport default ErrorMessage;\n","import React, { useState } from 'react';\nimport { Select } from 'semantic-react';\nimport { Form } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nimport './SelectField.scss';\nimport Error from '../Error/Error';\n\nconst SelectField = ({\n  setFieldValue,\n  children,\n  required = false,\n  name,\n  label,\n  defaultValue,\n  formik = true,\n  multiple = false,\n  getValue,\n  error = null,\n  ...props\n}) => {\n  const [active, setActive] = useState(false);\n  const [searchString, setSearchString] = useState('');\n  const [selected, setSelected] = useState(defaultValue || []);\n\n  return (\n    <Form.Field required={required}>\n      <label>{label}</label>\n      <Select\n        active={active}\n        search\n        selection\n        selected={selected}\n        onSelectChange={(val) => {\n          setSelected(val);\n          setActive(false);\n          if (formik) {\n            setFieldValue(name, multiple ? val : val[0]);\n          } else {\n            getValue(val);\n          }\n        }}\n        onClick={() => setActive(!active)}\n        onRequestClose={() => setActive(false)}\n        className=\"select\"\n        style={active ? { '--display': 'block' } : { '--display': 'none' }}\n        onSearchStringChange={(search) => setSearchString(search)}\n        searchString={searchString}\n        name={name}\n        multiple={multiple}\n        {...props}\n      >\n        {children}\n      </Select>\n\n      {error && <Error>{error}</Error>}\n    </Form.Field>\n  );\n};\n\nSelectField.propTypes = {\n  setFieldValue: PropTypes.func,\n  children: PropTypes.node.isRequired,\n  required: PropTypes.bool,\n  name: PropTypes.string,\n  label: PropTypes.node,\n  defaultValue: PropTypes.array,\n  formik: PropTypes.bool,\n  multiple: PropTypes.bool,\n  getValue: PropTypes.func,\n  error: PropTypes.node,\n};\n\nexport default SelectField;\n","import React, { useEffect } from 'react';\nimport { Option } from 'semantic-react';\nimport PropTypes from 'prop-types';\n\nimport SelectField from '../SelectField/SelectField';\nimport Field from '../Field/Field';\nimport { useStore } from '../../../stores/createStore';\nimport { observer } from 'mobx-react';\n\nconst CathedrasSelect = ({ isTeacher = false, setFieldValue, error, ...props }) => {\n  const store = useStore();\n  const { items, fetchAll } = store.cathedras;\n\n  useEffect(() => {\n    fetchAll.run();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Field onClick={(e, props) => !props.checked && setFieldValue('cathedraId', null)} type=\"checkbox\" label=\"I am professor\" id=\"isTeacher\" name=\"isTeacher\" />\n\n      <SelectField\n        label='Your cathedra'\n        name=\"cathedraId\"\n        placeholder=\"Select cathedra\"\n        required={isTeacher}\n        disabled={!isTeacher}\n        setFieldValue={setFieldValue}\n        error={error}\n        loading={fetchAll.isLoading}\n        {...props}\n      >\n        {items.map(({ name, id }) => (\n          <Option key={id} value={id}>\n            {name}\n          </Option>\n        ))}\n      </SelectField>\n    </React.Fragment>\n  );\n};\n\nCathedrasSelect.propTypes = {\n  items: PropTypes.array.isRequired,\n  isTeacher: PropTypes.bool,\n  setFieldValue: PropTypes.func.isRequired,\n};\n\nexport default observer(CathedrasSelect);\n","import React, { useEffect } from 'react';\nimport { Button, Form } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\n\nimport Field from 'src/components/Form/Field/Field';\nimport Error from 'src/components/Form/Error/Error';\nimport { colors } from 'src/components/App/App';\nimport { useStore } from '../../../../stores/createStore';\nimport ErrorMessage from '../../../../components/Messages/ErrorMessage';\nimport CathedrasSelect from '../../../../components/Form/CathedrasSelect/CathedrasSelect';\n\nconst RegisterForm = ({ onSubmit }) => {\n  const store = useStore();\n  const { items } = store.cathedras;\n  const { isLoading, isError, errorMsg } = store.auth.register;\n\n  useEffect(() => {\n    store.cathedras.fetchAll.run();\n  }, []);\n\n  const formikProps = {\n    initialValues: {\n      fullName: '',\n      username: '',\n      email: '',\n      password: '',\n      passConfirm: '',\n      isTeacher: false,\n      cathedraId: null,\n    },\n\n    validationSchema: Yup.object().shape({\n      fullName: Yup.string()\n        .min(3, 'Must be at least 3 characters')\n        .max(255, 'Must be shorter than 255')\n        .required('Please enter a value'),\n      username: Yup.string()\n        .min(4, 'Must be at least 4 characters')\n        .max(255, 'Must be shorter than 255')\n        .required('Please enter a value'),\n      email: Yup.string()\n        .email('Must be a valid email address')\n        .max(255, 'Must be shorter than 255')\n        .required('Please enter a value'),\n      password: Yup.string()\n        .min(6, 'Must have minimum 6 characters')\n        .required('Please enter a value'),\n      passConfirm: Yup.string().required('Please enter a value'),\n      isTeacher: Yup.boolean(),\n      cathedraId: Yup.number().when('isTeacher', {\n        is: true,\n        then: Yup.number().required('Please select something').nullable(),\n        otherwise: Yup.number().nullable()\n      })\n    }),\n\n    onSubmit,\n  };\n\n  return (\n    <Formik {...formikProps}>\n      {({ values, handleSubmit, setFieldValue, errors }) => {\n        const isMatch = values.password === values.passConfirm;\n\n        return (\n          <Form\n            error={isError}\n            loading={isLoading}\n            noValidate\n            onSubmit={handleSubmit}\n            className=\"attached grey segment\"\n          >\n            {isError && <ErrorMessage errors={errorMsg} />}\n\n            <Field label=\"Full name\" name=\"fullName\" placeholder=\"Bruce Wayne\" />\n            <Field label=\"Username\" name=\"username\" placeholder=\"Batman\" required />\n            <Field\n              label=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"something@example.com\"\n              required\n            />\n            <Field\n              label=\"Password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              required\n            />\n            <Field\n              label=\"Repeat password\"\n              name=\"passConfirm\"\n              type=\"password\"\n              placeholder=\"Repeat password\"\n              required\n            >\n              {!isMatch && <Error>Passwords don't match</Error>}\n            </Field>\n\n            <CathedrasSelect\n              isTeacher={values.isTeacher}\n              setFieldValue={setFieldValue}\n              items={items}\n              error={errors.cathedraId}\n            />\n\n            <Button type=\"submit\" size=\"large\" color={colors.main}>\n              Register\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nRegisterForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default observer(RegisterForm);\n","import React from 'react';\nimport { Container, Icon, Message } from 'semantic-ui-react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { observer } from 'mobx-react';\n\nimport RegisterForm from './components/RegisterForm';\nimport { routes } from '../../routes';\nimport { useStore } from '../../../stores/createStore';\nimport s from './Register.module.scss';\n\nconst Register = () => {\n  const store = useStore();\n  const { redirect } = store.auth.register;\n\n  const onSubmit = async ({ fullName, username, email, password, passConfirm, isTeacher, cathedraId }) => {\n    await store.auth.register.run({ fullName, username, email, password, passConfirm, isTeacher, cathedraId });\n  };\n\n  if (redirect) return <Redirect to={routes.login} />;\n\n  return (\n    <Container>\n      <div className={s.form}>\n        <Message\n          attached\n          header=\"Welcome to our site!\"\n          content=\"Fill out the form below to sign-up for a new account\"\n        />\n        <RegisterForm onSubmit={onSubmit} />\n        <Message attached=\"bottom\" warning>\n          <Icon name=\"help\" />\n          Already signed up?&nbsp;<Link to={routes.login}>Login here</Link>&nbsp;instead.\n        </Message>\n      </div>\n    </Container>\n  );\n};\n\nexport default observer(Register);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Button, Form, Message } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport PropTypes from 'prop-types';\n\nimport Field from 'src/components/Form/Field/Field';\nimport { colors } from 'src/components/App/App';\nimport { useStore } from '../../../../stores/createStore';\n\nconst LoginForm = ({ onSubmit }) => {\n  const store = useStore();\n  const { errorMsg, isError, isLoading } = store.auth.login;\n\n  const formikProps = {\n    initialValues: {\n      username: '',\n      password: '',\n    },\n\n    validationSchema: Yup.object().shape({\n      username: Yup.string().max(255, 'Must be shorter than 255').required(' '),\n      password: Yup.string().required(' '),\n    }),\n\n    onSubmit,\n  };\n\n  return (\n    <Formik {...formikProps}>\n      {({ handleSubmit }) => {\n        return (\n          <Form\n            error={isError}\n            loading={isLoading}\n            noValidate\n            onSubmit={handleSubmit}\n            className=\"attached grey segment\"\n          >\n            {<Message error header=\"Log in failed\" content={errorMsg} />}\n\n            <Field label=\"Username\" name=\"username\" placeholder=\"Batman\" />\n            <Field label=\"Password\" name=\"password\" type=\"password\" placeholder=\"Password\" />\n\n            <Button type=\"submit\" size=\"large\" color={colors.main}>\n              Login\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nLoginForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default observer(LoginForm);\n","import React from 'react';\nimport { Link, generatePath, Redirect } from 'react-router-dom';\nimport { Container, Icon, Message } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport LoginForm from './components/LoginForm';\nimport { routes } from '../../routes';\nimport { useStore } from '../../../stores/createStore';\n\nimport s from './Login.module.scss';\n\nconst Login = () => {\n  const store = useStore();\n  const { redirect } = store.auth.login;\n\n  const onSubmit = async ({ username, password }) => {\n    await store.auth.login.run({ username, password });\n  };\n\n  if (redirect) {\n    return <Redirect to={generatePath(routes.account, { username: store.viewer.user.username })} />;\n  }\n\n  return (\n    <Container>\n      <div className={s.form}>\n        <Message attached header=\"Hello!\" content=\"Login to see more\" />\n        <LoginForm onSubmit={onSubmit} />\n        <Message attached=\"bottom\" warning>\n          <Icon name=\"help\" />\n          No account yet?&nbsp;<Link to={routes.register}>Register here</Link>&nbsp;.\n        </Message>\n      </div>\n    </Container>\n  );\n};\n\nexport default observer(Login);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { routes } from '../routes';\nimport Register from './Register/Register';\nimport Login from './Login/Login';\n\nconst Auth = () => {\n  return (\n    <div>\n      <Switch>\n        <Route path={routes.register} component={Register} />\n        <Route path={routes.login} component={Login} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React from 'react';\nimport { Button, Form } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\n\nimport Field from '../Form/Field/Field';\nimport { useStore } from '../../stores/createStore';\nimport ErrorMessage from '../Messages/ErrorMessage';\nimport CathedrasSelect from '../Form/CathedrasSelect/CathedrasSelect';\nimport { useUserCollection } from '../../stores/users/usersCollection';\n\nconst EditForm = ({ user, cancelEdit, isViewer = true }) => {\n  const store = useStore();\n  const { edit } = useUserCollection();\n  const { fullName, username, email, isTeacher, cathedraId, id, bio } = user;\n  const { isLoading, isError, errorMsg } = store.viewer.edit;\n\n  const onSubmit = (data) => {\n    if (isViewer) {\n      store.viewer.edit.run(data);\n    } else {\n      edit.run(data);\n    }\n  };\n\n  const formikProps = {\n    initialValues: {\n      id,\n\n      // --- values to change\n      fullName,\n      username,\n      email,\n      isTeacher,\n      cathedraId,\n      bio,\n      // ---\n\n      currentUsername: username,\n      currentEmail: email,\n    },\n\n    validationSchema: Yup.object().shape({\n      fullName: Yup.string()\n        .min(3, 'Must be at least 3 characters')\n        .max(255, 'Must be shorter than 255')\n        .nullable(),\n      username: Yup.string()\n        .min(4, 'Must be at least 4 characters')\n        .max(255, 'Must be shorter than 255')\n        .required('Please enter a value'),\n      email: Yup.string()\n        .email('Must be a valid email address')\n        .max(255, 'Must be shorter than 255')\n        .required('Please enter a value'),\n      bio: Yup.string().nullable(),\n      isTeacher: Yup.boolean(),\n      cathedraId: Yup.number().when('isTeacher', {\n        is: true,\n        then: Yup.number().required('Please select something').nullable(),\n        otherwise: Yup.number().nullable()\n      })\n    }),\n\n    onSubmit,\n  };\n\n  return (\n    <Formik {...formikProps}>\n      {({ handleSubmit, setFieldValue, values, errors }) => {\n        return (\n          <Form noValidate onSubmit={handleSubmit} error={isError} loading={isLoading}>\n            {isError && <ErrorMessage errors={errorMsg} />}\n\n            <Field label=\"Full name\" name=\"fullName\" placeholder=\"Bruce Wayne\" />\n            <Field label=\"Username\" name=\"username\" placeholder=\"Batman\" required />\n            <Field\n              label=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"something@example.com\"\n              required\n            />\n\n            <CathedrasSelect\n              isTeacher={values.isTeacher}\n              setFieldValue={setFieldValue}\n              defaultValue={[cathedraId]}\n              error={errors.cathedraId}\n            />\n\n            <Field\n              type=\"textarea\"\n              name=\"bio\"\n              label=\"Tell about yourself\"\n              placeholder=\"Tell us about yourself\"\n            />\n\n            <Button.Group attached>\n              <Button onClick={cancelEdit}>Cancel</Button>\n              <Button.Or />\n              <Button type=\"submit\" positive>\n                Save\n              </Button>\n            </Button.Group>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nEditForm.propTypes = {\n  user: PropTypes.object.isRequired,\n  cancelEdit: PropTypes.func.isRequired,\n};\n\nexport default observer(EditForm);\n","import React, { useEffect, useState } from 'react';\nimport { generatePath, Link } from 'react-router-dom';\nimport { Button, Image } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\n\nimport NoneImage from 'src/img/none.svg';\nimport { useStore } from '../../../../stores/createStore';\nimport { routes } from '../../../routes';\nimport { useCathedrasCollection } from '../../../../stores/cathedras/cathedrasCollection';\nimport { apiPath, colors } from '../../../../components/App/App';\n\nimport s from './User.module.scss';\nimport EditForm from '../../../../components/EditForm/EditForm';\n\nconst User = ({ user, isViewer }) => {\n  const [image, setImage] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const addImageRef = React.createRef();\n\n  // ---- values from store\n  const store = useStore();\n  const { avatar, fullName, username, email, cathedraId, cathedra, bio } = user;\n  const cathedraCollection = useCathedrasCollection();\n  const pathToCathedra =\n    cathedra && generatePath(routes.cathedra, { name: cathedra.name || 0 });\n  // -----\n\n  useEffect(() => {\n    cathedraCollection.getById.run(cathedraId);\n  }, [cathedraId]);\n\n  const handleFileChange = (e) => {\n    store.files.upload.run(e.target.files).then(() => setImage(store.files?.items[0]?.filename));\n  };\n\n  // ---- avatar upload\n  const handleCancelAvatarUpload = () => setImage(null);\n  const handleAvatarUpload = () => {\n    store.viewer.changeAvatar.run({ avatar: apiPath + image });\n    setImage(null);\n  };\n  // -----\n\n  // ----- edit mode\n  const closeEditMode = () => setEditMode(false);\n  const openEditMode = () => setEditMode(true);\n  // -----\n\n  return (\n    <React.Fragment>\n      <div className={s.user}>\n        <div className={s.img}>\n          <Image src={(image && apiPath + image) || avatar || NoneImage} fluid />\n          { isViewer && <div>\n            {!image ? (\n              <Button\n                icon=\"add\"\n                content=\"New avatar\"\n                color={colors.second}\n                labelPosition=\"left\"\n                fluid\n                attached\n                onClick={() => addImageRef.current.click()}\n              />\n            ) : (\n              <Button.Group fluid attached>\n                <Button onClick={handleCancelAvatarUpload}>Cancel</Button>\n                <Button.Or />\n                <Button onClick={handleAvatarUpload} positive>\n                  Save\n                </Button>\n              </Button.Group>\n            )}\n            <input\n              onChange={handleFileChange}\n              ref={addImageRef}\n              type=\"file\"\n              name=\"files\"\n              className=\"none\"\n            />\n\n            <div className={s.edit_button}>\n              <Button\n                icon=\"edit\"\n                content=\"Edit profile\"\n                color={colors.neutral}\n                labelPosition=\"left\"\n                onClick={openEditMode}\n                fluid\n                attached\n              />\n            </div>\n          </div> }\n        </div>\n        <div className={s.user__info}>\n          {!editMode && (\n            <React.Fragment>\n              <h1>{fullName}</h1>\n              <h4>{username}</h4>\n              <div>\n                <a href={`mailto: ${email}`}>{email}</a>\n              </div>\n              <p className={s.bio}>{bio}</p>\n              {cathedra && (\n                <Link to={pathToCathedra} className={s.link}>\n                  {cathedra.name}\n                </Link>\n              )}\n            </React.Fragment>\n          )}\n\n          {editMode && isViewer && <EditForm user={store.viewer.user} cancelEdit={closeEditMode} />}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.object.isRequired,\n  isViewer: PropTypes.bool.isRequired,\n};\n\nexport default observer(User);\n","import React from 'react';\nimport { Button, Header, Icon, Item, Label } from 'semantic-ui-react';\nimport { Link, generatePath } from 'react-router-dom';\n\nimport { routes } from '../../../routes';\nimport { colors } from '../../../../components/App/App';\nimport { observer } from 'mobx-react';\n\nimport s from './PostsBlock.module.scss';\n\nconst PostsBlock = ({ items, path }) => {\n  if (items.length <= 0) {\n    return (\n      <Header as=\"h4\" icon textAlign=\"center\">\n        <Icon name=\"x\" />\n        No posts\n      </Header>\n    );\n  }\n\n  return (\n    <div>\n      <Item.Group divided>\n        {items.map((post) => {\n          const created = new Date(post.createdAt);\n\n          return (\n            <Item key={post.id} className={s.item}>\n              <Item.Content>\n                <Item.Header as={Link} to={generatePath(path, { id: post.id })}>\n                  {post.title}\n                </Item.Header>\n                <Item.Meta>\n                  <div className={s.date}>\n                    <div>{created.toLocaleDateString()}</div>\n                  </div>\n\n                  <Label.Group size='small' className={s.tags} tag>\n                    {post.isElectronic && <Label>Electronic</Label>}\n                    {post.isEuLanguage && <Label>European language</Label>}\n                    {post.isScopusAndWS && <Label>Scopus and Web of Science</Label>}\n                    {post.isScientometrics && <Label>Scientometric databases</Label>}\n                    {post.isProfessional && <Label>Professional</Label>}\n                    {post.isInternational && <Label>International conference</Label>}\n                  </Label.Group>\n\n                  {post.Users.map(({ id, username }) => (\n                    <Link\n                      className={id !== post.author ? s.subauthor : s.mainAuthor}\n                      to={generatePath(routes.account, { username })}\n                      key={id}\n                    >\n                      {username}\n                    </Link>\n                  ))}\n                </Item.Meta>\n                <Item.Description className={s.desc}>\n                  {post.annotations}\n                </Item.Description>\n                <Item.Extra>\n                  <Button\n                    color={colors.main}\n                    as={Link}\n                    to={generatePath(path, { id: post.id })}\n                    floated=\"right\"\n                  >\n                    See more\n                    <Icon name=\"right chevron\" />\n                  </Button>\n                </Item.Extra>\n              </Item.Content>\n            </Item>\n          );\n        })}\n      </Item.Group>\n    </div>\n  );\n};\n\nexport default observer(PostsBlock);\n","import React, { useEffect } from 'react';\nimport { generatePath, NavLink, Redirect, Route, useParams } from 'react-router-dom';\nimport { Container, Header, Menu, Segment } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport s from './Account.module.scss';\nimport { useStore } from '../../stores/createStore';\nimport { useUserCollection } from '../../stores/users/usersCollection';\nimport { routes } from '../routes';\nimport User from './components/User/User';\nimport PostsBlock from './components/PostsBlock/PostsBlock';\n\nconst Account = () => {\n  const params = useParams();\n\n  const store = useStore();\n  const isViewer = store.viewer?.user?.username === params.username;\n  const { collection, getUser } = useUserCollection();\n  const user = isViewer ? store.viewer.user : collection.get(params.username);\n  const { fetchUserPosts, periodic, thesis, monographs } = store.userPosts;\n  const postsLoaded = !fetchUserPosts.isLoading && !fetchUserPosts.isError;\n\n  useEffect(() => {\n    if (params.username !== store.viewer.user.username) {\n      getUser.run(params.username);\n    }\n\n    fetchUserPosts.run(params.username);\n  }, [params.username]);\n\n  if (store.viewer.edit.redirect) {\n    return <Redirect to={generatePath(routes.account, { username: store.viewer.user.username })} />;\n  }\n\n  return (\n    <div className={s.container}>\n      <Container>\n        <Segment padded loading={getUser.isLoading}>\n          {!user && <Header as='h3' textAlign='center'>No user found</Header>}\n          {user && <User user={user} isViewer={isViewer} />}\n        </Segment>\n\n        {user && (\n          <Segment padded>\n            <Menu widths={3}>\n              <Menu.Item\n                name=\"Monographs\"\n                as={NavLink}\n                to={generatePath(routes.monographs, { username: user.username })}\n              />\n              <Menu.Item\n                name=\"Periodicity\"\n                as={NavLink}\n                to={generatePath(routes.periodicity, { username: user.username })}\n              />\n              <Menu.Item\n                name=\"Thesis\"\n                as={NavLink}\n                to={generatePath(routes.thesis, { username: user.username })}\n              />\n            </Menu>\n\n            <Route\n              path={routes.periodicity}\n              render={() =>\n                postsLoaded && <PostsBlock items={periodic} path={routes.periodicityPost} />\n              }\n            />\n            <Route\n              path={routes.monographs}\n              render={() =>\n                postsLoaded && <PostsBlock items={monographs} path={routes.monographPost} />\n              }\n            />\n            <Route\n              path={routes.thesis}\n              render={() => postsLoaded && <PostsBlock items={thesis} path={routes.thesisPost} />}\n            />\n          </Segment>\n        )}\n      </Container>\n    </div>\n  );\n};\n\nexport default observer(Account);\n","import React, { useEffect } from 'react';\nimport { Option } from 'semantic-react';\nimport PropTypes from 'prop-types';\nimport { observer } from 'mobx-react';\n\nimport SelectField from '../SelectField/SelectField';\nimport { useStore } from '../../../stores/createStore';\n\nimport s from './UsersSelect.module.scss';\n\nconst UsersSelect = ({ setFieldValue, error, multiple = true, ...props }) => {\n  const store = useStore();\n  const { fetchAll, items } = store.users;\n\n  useEffect(() => {\n    fetchAll.run();\n  }, []);\n\n  return (\n    <SelectField\n      oneValue={false}\n      required\n      multiple={multiple}\n      loading={fetchAll.isLoading}\n      setFieldValue={setFieldValue}\n      error={error}\n      {...props}\n    >\n      {items.map(({ username, fullName, id }) => (\n        <Option key={id} value={id}>\n          {username} <span className={s.light_text}>({fullName})</span>\n        </Option>\n      ))}\n    </SelectField>\n  );\n};\n\nUsersSelect.propTypes = {\n  setFieldValue: PropTypes.func.isRequired,\n  error: PropTypes.node,\n};\n\nexport default observer(UsersSelect);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Button, Form } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nimport { useStore } from '../../stores/createStore';\nimport { colors } from '../App/App';\nimport UsersSelect from '../Form/UsersSelect/UsersSelect';\nimport Field from '../Form/Field/Field';\nimport SelectField from '../Form/SelectField/SelectField';\n\nconst MonographForm = ({ onSubmit, editMode = false, isAdmin, post = {} }) => {\n  const subauthors = post.subauthors ? post.subauthors.split(',').map((item) => +item) : null;\n\n  const formikProps = {\n    initialValues: {\n      title: post?.title || '',\n      section: post?.section || null,\n      monographPages: post?.monographPages || '',\n      printPages: post?.printPages || '',\n      pages: post?.pages || '',\n      year: post?.year || '',\n      annotations: post?.annotations || null,\n      isbn: post?.isbn || null,\n      doi: post?.doi || null,\n      isEuLanguage: post?.isEuLanguage || false,\n      files: post?.files || null,\n      author: post?.author || null,\n      subauthors: post?.subauthors || null,\n    },\n\n    validationSchema: Yup.object().shape({}),\n\n    onSubmit,\n  };\n\n  const store = useStore();\n  const { isLoading, isError } = store.userPosts.addMonograph;\n\n  return (\n    <Formik {...formikProps}>\n      {({ handleSubmit, setFieldValue }) => {\n        return (\n          <Form\n            error={isError}\n            loading={isLoading}\n            noValidate\n            onSubmit={handleSubmit}\n            className=\"attached\"\n          >\n            {/*{<Message error header=\"Log in failed\" content={errorMsg} />}*/}\n\n            {isAdmin && (\n              <UsersSelect\n                name=\"author\"\n                setFieldValue={setFieldValue}\n                label=\"Select author\"\n                placeholder=\"Select author\"\n                multiple={false}\n              />\n            )}\n            <UsersSelect\n              name=\"subauthors\"\n              setFieldValue={setFieldValue}\n              defaultValue={subauthors}\n              label=\"Select subauthors\"\n              placeholder=\"Select subauthors\"\n            />\n\n            <Field required label=\"Title\" name=\"title\" placeholder=\"Monograph title\" />\n            <Field label=\"Section\" name=\"section\" placeholder=\"Section name\" />\n            <Form.Group widths={2}>\n              <Field label=\"ISBN\" name=\"isbn\" placeholder=\"978-1-10-769989-2\" />\n              <Field label=\"DOI\" name=\"doi\" placeholder=\"10.15421/abc1234567890\" />\n            </Form.Group>\n            <Form.Group widths={4}>\n              <Field required label=\"Monograph pages\" name=\"monographPages\" placeholder=\"0\" />\n              <Field required label=\"Print pages\" name=\"printPages\" placeholder=\"0\" />\n              <Field required label=\"Pages\" name=\"pages\" placeholder=\"0\" />\n              <Field required label=\"Year\" name=\"year\" placeholder=\"2015\" />\n            </Form.Group>\n            <Field type=\"textarea\" label=\"Annotation\" name=\"annotations\" placeholder=\"...\" />\n            <Field\n              type=\"checkbox\"\n              label=\"European Union language\"\n              name=\"isEuLanguage\"\n              id=\"isEuLanguage\"\n            />\n\n            <Button type=\"submit\" color={colors.main}>\n              {editMode ? 'Update' : 'Create'}\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nMonographForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  post: PropTypes.object,\n  isAdmin: PropTypes.bool.isRequired,\n};\n\nexport default observer(MonographForm);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Button, Form } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nimport { useStore } from '../../stores/createStore';\nimport { colors } from '../App/App';\nimport UsersSelect from '../Form/UsersSelect/UsersSelect';\nimport Field from '../Form/Field/Field';\n\nconst PeriodicityForm = ({ onSubmit, editMode = false, isAdmin, post = {} }) => {\n  const subauthors = post.subauthors ? post.subauthors.split(',').map((item) => +item) : null;\n\n  const formikProps = {\n    initialValues: {\n      title: post?.title || '',\n      udc: post?.udc || '',\n      journal: post?.journal || '',\n      issueNumber: post?.issueNumber || '',\n      journalPages: post?.journalPages || '',\n      pages: post?.pages || '',\n      issn: post?.issn || null,\n      doi: post?.doi || null,\n      annotations: post?.annotations || null,\n      isScopusAndWS: post?.isScopusAndWS || false,\n      isScientometrics: post?.isScientometrics || false,\n      isProfessional: post?.isProfessional || false,\n      isElectronic: post?.isElectronic || false,\n      files: post?.files || null,\n      author: post?.author || null,\n      subauthors: subauthors || null,\n    },\n\n    validationSchema: Yup.object().shape({}),\n\n    onSubmit,\n  };\n\n  const store = useStore();\n  const { isLoading, isError } = store.userPosts.addPeriodic;\n\n  return (\n    <Formik {...formikProps}>\n      {({ handleSubmit, setFieldValue }) => {\n        return (\n          <Form\n            error={isError}\n            loading={isLoading}\n            noValidate\n            onSubmit={handleSubmit}\n            className=\"attached\"\n          >\n            {/*{<Message error header=\"Log in failed\" content={errorMsg} />}*/}\n\n            {isAdmin && (\n              <UsersSelect\n                name=\"author\"\n                setFieldValue={setFieldValue}\n                label=\"Select author\"\n                placeholder=\"Select author\"\n                multiple={false}\n              />\n            )}\n            <UsersSelect\n              name=\"subauthors\"\n              setFieldValue={setFieldValue}\n              defaultValue={subauthors}\n              label=\"Select subauthors\"\n              placeholder=\"Select subauthors\"\n            />\n\n            <Field required label=\"Title\" name=\"title\" placeholder=\"Periodicity title\" />\n            <Field\n              required\n              label=\"Journal\"\n              name=\"journal\"\n              placeholder=\"American Economic Journal\"\n            />\n            <Form.Group widths={3}>\n              <Field required label=\"Issue number\" name=\"issueNumber\" placeholder=\"34\" />\n              <Field required label=\"Journal pages\" name=\"journalPages\" placeholder=\"0\" />\n              <Field required label=\"Pages\" name=\"pages\" placeholder=\"0\" />\n            </Form.Group>\n            <Form.Group widths={3}>\n              <Field required label=\"UDC\" name=\"udc\" placeholder=\"316.35\" />\n              <Field label=\"ISSN\" name=\"issn\" placeholder=\"1050-124X\" />\n              <Field label=\"DOI\" name=\"doi\" placeholder=\"10.15421/abc1234567890\" />\n            </Form.Group>\n            <Field type=\"textarea\" label=\"Annotation\" name=\"annotations\" placeholder=\"...\" />\n            <Field\n              type=\"checkbox\"\n              label=\"Scopus and Web of Science\"\n              name=\"isScopusAndWS\"\n              id=\"isScopusAndWS\"\n            />\n            <Field\n              type=\"checkbox\"\n              label=\"Other scientometrics databases\"\n              name=\"isScientometrics\"\n              id=\"isScientometrics\"\n            />\n            <Field type=\"checkbox\" label=\"Professional\" name=\"isProfessional\" id=\"isProfessional\" />\n            <Field type=\"checkbox\" label=\"Electronic\" name=\"isElectronic\" id=\"isElectronic\" />\n\n            <Button type=\"submit\" color={colors.main}>\n              {editMode ? 'Update' : 'Create'}\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nPeriodicityForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  post: PropTypes.object,\n  isAdmin: PropTypes.bool.isRequired,\n};\n\nexport default observer(PeriodicityForm);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Button, Form } from 'semantic-ui-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport PropTypes from 'prop-types';\n\nimport { useStore } from '../../stores/createStore';\nimport UsersSelect from '../Form/UsersSelect/UsersSelect';\nimport Field from '../Form/Field/Field';\nimport { colors } from '../App/App';\n\nconst ThesisForm = ({ onSubmit, editMode = false, isAdmin, post = {} }) => {\n  const subauthors = post.subauthors ? post.subauthors.split(',').map(item => +item) : null;\n\n  const formikProps = {\n    initialValues: {\n      title: post?.title || '',\n      udc: post?.udc || '',\n      conference: post?.conference || '',\n      city: post?.city || '',\n      dates: post?.dates || '',\n      collectionPages: post?.collectionPages || '',\n      pages: post?.pages || '',\n      issn: post?.issn || null,\n      doi: post?.doi || null,\n      annotations: post?.annotations || null,\n      isScopusAndWS: post?.isScopusAndWS || false,\n      isScientometrics: post?.isScientometrics || false,\n      isInternational: post?.isInternational || false,\n      files: post?.files || null,\n      author: post?.author || null,\n      subauthors: post?.subauthors || null,\n    },\n\n    validationSchema: Yup.object().shape({}),\n\n    onSubmit,\n  };\n\n  const store = useStore();\n  const { isLoading, isError } = store.userPosts.addThesis;\n\n  return (\n    <Formik {...formikProps}>\n      {({ handleSubmit, setFieldValue, values }) => {\n        return (\n          <Form\n            error={isError}\n            loading={isLoading}\n            noValidate\n            onSubmit={handleSubmit}\n            className=\"attached\"\n          >\n            {/*{<Message error header=\"Log in failed\" content={errorMsg} />}*/}\n\n            {isAdmin && (\n              <UsersSelect\n                name=\"author\"\n                setFieldValue={setFieldValue}\n                label=\"Select author\"\n                placeholder=\"Select author\"\n                multiple={false}\n              />\n            )}\n            <UsersSelect\n              name=\"subauthors\"\n              setFieldValue={setFieldValue}\n              defaultValue={subauthors}\n              label=\"Select subauthors\"\n              placeholder=\"Select subauthors\"\n            />\n\n            <Field required label=\"Title\" name=\"title\" placeholder=\"Thesis title\" />\n            <Field required label=\"Conference\" name=\"conference\" placeholder=\"Florida High School Hockey Association Conference\" />\n            <Field required label=\"City\" name=\"city\" placeholder=\"Ivano-Frankivsk\" />\n            <Field required label=\"Dates\" name=\"dates\" placeholder=\"13 Jan. 2018\" />\n            <Form.Group widths={2}>\n              <Field required label=\"Collection pages\" name=\"collectionPages\" placeholder=\"0\" />\n              <Field required label=\"Pages\" name=\"pages\" placeholder=\"0\" />\n            </Form.Group>\n            <Form.Group widths={3}>\n              <Field required label=\"UDC\" name=\"udc\" placeholder=\"316.35\" />\n              <Field label=\"ISSN\" name=\"issn\" placeholder=\"1050-124X\" />\n              <Field label=\"DOI\" name=\"doi\" placeholder=\"10.15421/abc1234567890\" />\n            </Form.Group>\n            <Field type=\"textarea\" label=\"Annotation\" name=\"annotations\" placeholder=\"...\" />\n            <Field\n              type=\"checkbox\"\n              label=\"Scopus and Web of Science\"\n              name=\"isScopusAndWS\"\n              id=\"isScopusAndWS\"\n            />\n            <Field\n              type=\"checkbox\"\n              label=\"Other scientometrics databases\"\n              name=\"isScientometrics\"\n              id=\"isScientometrics\"\n            />\n            <Field\n              type=\"checkbox\"\n              label=\"International conference\"\n              name=\"isInternational\"\n              id=\"isInternational\"\n            />\n\n            <Button type=\"submit\" color={colors.main}>\n              { editMode ? 'Update' : 'Create' }\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nThesisForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  post: PropTypes.object,\n  isAdmin: PropTypes.bool.isRequired,\n};\n\nexport default observer(ThesisForm);\n","import React, { useState } from 'react';\nimport { useHistory, generatePath } from 'react-router-dom';\nimport { Container, Segment, Message, Form } from 'semantic-ui-react';\nimport { Option } from 'semantic-react';\nimport { observer } from 'mobx-react';\n\nimport s from './CreatePost.module.scss';\nimport { useStore } from '../../stores/createStore';\nimport SelectField from '../../components/Form/SelectField/SelectField';\nimport MonographForm from '../../components/PostForms/MonographForm';\nimport PeriodicityForm from '../../components/PostForms/PeriodicityForm';\nimport ThesisForm from '../../components/PostForms/ThesisForm';\nimport { routes } from '../routes';\n\nconst CreatePost = () => {\n  const store = useStore();\n  const history = useHistory();\n  const { addPeriodic, addThesis, addMonograph } = store.userPosts;\n  const user = store.viewer.user;\n  const DEFAULT_VALUE = 'periodicity';\n  const [selected, setSelected] = useState(DEFAULT_VALUE);\n  const types = [\n    { value: 'periodicity', text: 'Periodicity' },\n    { value: 'thesis', text: 'Thesis' },\n    { value: 'monograph', text: 'Monograph' },\n  ];\n\n  const submitForm = async ({ author, ...data }) => {\n    author = author ? author : user.id;\n    if (selected === 'periodicity') addPeriodic.run({author, ...data});\n    if (selected === 'thesis') addThesis.run({author, ...data});\n    if (selected === 'monograph') addMonograph.run({author, ...data});\n\n    history.push(generatePath(routes.account, { username: store.viewer.user.username }))\n  };\n\n  return (\n    <Container>\n      <div className={s.form}>\n        <Message attached header=\"Here you can create your post!\" size=\"huge\" />\n        <Segment padded=\"very\" attached>\n          {/* --- Select post type --- */}\n          <Form style={{ marginBottom: '17px' }}>\n            <SelectField\n              getValue={(val) => setSelected(val[0])}\n              formik={false}\n              label=\"Choose post type\"\n              defaultValue={[DEFAULT_VALUE]}\n            >\n              {types.map(({ value, text }) => (\n                <Option key={value} value={value}>\n                  {text}\n                </Option>\n              ))}\n            </SelectField>\n          </Form>\n          {/* --------- */}\n\n          {selected === 'monograph' && (\n            <MonographForm onSubmit={submitForm} isAdmin={user.isAdmin} />\n          )}\n          {selected === 'periodicity' && (\n            <PeriodicityForm onSubmit={submitForm} isAdmin={user.isAdmin} />\n          )}\n          {selected === 'thesis' && (\n            <ThesisForm onSubmit={submitForm} isAdmin={user.isAdmin} />\n          )}\n        </Segment>\n      </div>\n    </Container>\n  );\n};\n\nexport default observer(CreatePost);\n","import React, { useEffect, Fragment, useState } from 'react';\nimport { generatePath, Link, Redirect, useParams, useHistory } from 'react-router-dom';\nimport {\n  Button,\n  Container,\n  Divider,\n  Header,\n  Icon,\n  Label,\n  Loader,\n  Segment,\n} from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\n\nimport { routes } from 'src/scenes/routes';\n\nimport s from './Post.module.scss';\nimport { colors } from '../App/App';\nimport { useStore } from '../../stores/createStore';\n\nexport const Record = ({ post, label, field, maybeNull = false }) => {\n  if (maybeNull) {\n    return (\n      <Fragment>\n        {post[field] && (\n          <div>\n            {label}: <span>{post[field]}</span>\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n\n  return (\n    <div>\n      {label}: <span>{post[field]}</span>\n    </div>\n  );\n};\n\nconst Post = ({ children, useCollection, apiMethodForPostEdit, apiMethodForDelete, type }) => {\n  const [files, setFiles] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const params = useParams();\n  const history = useHistory();\n  const { collection, getById, editFiles, deleteById } = useCollection();\n  const post = collection.get(params.id);\n  const store = useStore();\n  const addImageRef = React.createRef();\n  const isViewer = store.viewer?.user?.id === post?.author;\n  const created = post && new Date(post.createdAt);\n  const updated = post && new Date(post.updatedAt);\n\n  useEffect(() => {\n    getById.run(params.id);\n  }, [params.id]);\n\n  if (deleteById.redirect) {\n    return <Redirect to={generatePath(routes.account, { username: store.viewer.user.username })} />;\n  }\n\n  const handleFileChange = (e) => setFiles(e.target.files);\n  const handlePostDelete = () => deleteById.run(post.id, apiMethodForDelete);\n  const handleFilesSubmit = () => {\n    editFiles.run(post.id, files, apiMethodForPostEdit);\n    setEditMode(false);\n    setFiles(null);\n  };\n  const cancelFilesSubmit = () => {\n    setFiles(null);\n    setEditMode(false);\n  };\n\n  return (\n    <Container className={s.container}>\n      {getById.isLoading && <Loader />}\n      {!getById.isLoading && !post && (\n        <Header as=\"h2\" icon textAlign=\"center\">\n          <Icon name=\"x\" />\n          Post not found\n        </Header>\n      )}\n\n      {post && (\n        <Segment padded className={s.segment} loading={deleteById.isLoading}>\n          <div className={s.header}>\n            <Header as=\"h1\">{post.title}</Header>\n\n            <Label.Group size=\"small\" className={s.tags} tag>\n              {post.isElectronic && <Label>Electronic</Label>}\n              {post.isEuLanguage && <Label>European language</Label>}\n              {post.isScopusAndWS && <Label>Scopus and Web of Science</Label>}\n              {post.isScientometrics && <Label>Scientometric databases</Label>}\n              {post.isProfessional && <Label>Professional</Label>}\n              {post.isInternational && <Label>International conference</Label>}\n            </Label.Group>\n          </div>\n\n          <div>\n            {post.Users.map(({ id, username }) => (\n              <Link\n                key={id}\n                className={id !== post.author ? s.subauthor : s.mainAuthor}\n                to={generatePath(routes.account, { username })}\n              >\n                {username}\n              </Link>\n            ))}\n          </div>\n\n          <div className={s.info}>\n            {React.Children.map(children, (child) => {\n              return React.cloneElement(child, { post });\n            })}\n          </div>\n\n          <p className={s.desc}>{post.annotations}</p>\n\n          {/*---------- MATERIALS ----------*/}\n          <Divider horizontal>Materials</Divider>\n          <div>\n            {isViewer && (!post.files || editMode) && (\n              <React.Fragment>\n                <div className={s.add_btn}>\n                  {files ? (\n                    <Button.Group attached size=\"tiny\">\n                      <Button onClick={cancelFilesSubmit}>Cancel</Button>\n                      <Button.Or />\n                      <Button onClick={handleFilesSubmit} positive>\n                        Save\n                      </Button>\n                    </Button.Group>\n                  ) : (\n                    <Button\n                      icon=\"add\"\n                      size=\"tiny\"\n                      content=\"Add files\"\n                      color={colors.second}\n                      labelPosition=\"left\"\n                      onClick={() => addImageRef.current.click()}\n                    />\n                  )}\n\n                  {files && (\n                    <Header as=\"h5\" className={s.file_attached}>\n                      <Icon name=\"file archive\" />\n                      <Header.Content>{files[0].name}</Header.Content>\n                    </Header>\n                  )}\n                </div>\n                <Header as=\"h6\" color=\"red\" className={s.file_attached}>\n                  Attach .zip, .rar or .7z file\n                </Header>\n                <input\n                  accept=\".zip, .rar, .7z\"\n                  onChange={handleFileChange}\n                  ref={addImageRef}\n                  type=\"file\"\n                  name=\"files\"\n                  className=\"none\"\n                />\n              </React.Fragment>\n            )}\n\n            {post.files && !editMode && (\n              <div>\n                <Button\n                  content=\"Download materials\"\n                  color={colors.main}\n                  icon=\"download\"\n                  labelPosition=\"right\"\n                  as=\"a\"\n                  href={post.files}\n                />\n\n                <div className={s.icons}>\n                  <Icon name=\"edit\" onClick={() => setEditMode(true)}>\n                    Edit files\n                  </Icon>\n                </div>\n              </div>\n            )}\n\n            {!post.files && !editMode && (\n              <Header as='h4'>\n                No materials\n              </Header>\n            )}\n          </div>\n          <Divider />\n          {/*-------------------------------*/}\n\n          <div className={s.bottom}>\n            <div className={s.date}>\n              <div>\n                <span>Created:</span> {created.toLocaleDateString()} {created.toLocaleTimeString()}\n              </div>\n              <div>\n                <span>Updated:</span> {updated.toLocaleDateString()} {updated.toLocaleTimeString()}\n              </div>\n            </div>\n\n            {isViewer && (\n              <div className={s.action_icons}>\n                <Icon name=\"trash\" size=\"large\" color=\"red\" onClick={handlePostDelete} />\n                <Icon\n                  name=\"edit\"\n                  size=\"large\"\n                  color=\"green\"\n                  onClick={() =>\n                    history.push(\n                      generatePath(routes.editPost, {\n                        type,\n                        postId: post.id,\n                      }),\n                    )\n                  }\n                />\n              </div>\n            )}\n          </div>\n        </Segment>\n      )}\n    </Container>\n  );\n};\n\nPost.propTypes = {\n  children: PropTypes.node,\n  useCollection: PropTypes.func.isRequired,\n};\n\nRecord.propTypes = {\n  post: PropTypes.object,\n  label: PropTypes.string.isRequired,\n  field: PropTypes.string.isRequired,\n  maybeNull: PropTypes.bool,\n};\n\nexport default observer(Post);\n","import React from 'react';\nimport { observer } from 'mobx-react';\n\nimport { usePeriodicityCollection } from '../../stores/posts/periodicityCollection';\nimport Post, { Record } from '../../components/Post/Post';\nimport * as Api from '../../api';\n\nconst PeriodicPost = () => {\n  return (\n    <Post\n      useCollection={usePeriodicityCollection}\n      apiMethodForDelete={Api.Posts.deletePeriodicity}\n      apiMethodForPostEdit={Api.Posts.editPeriodicity}\n      type='periodicity'\n    >\n      <Record label=\"UDC\" field=\"udc\" />\n      <Record label=\"ISSN\" field=\"issn\" maybeNull />\n      <Record label=\"DOI\" field=\"doi\" maybeNull />\n      <Record label=\"Journal\" field=\"journal\" />\n      <Record label=\"Issue number\" field=\"issueNumber\" />\n      <Record label=\"Journal pages\" field=\"journalPages\" />\n      <Record label=\"Pages\" field=\"pages\" />\n    </Post>\n  );\n};\n\nexport default observer(PeriodicPost);\n","import React from 'react';\nimport { observer } from 'mobx-react';\n\nimport { useMonographsCollection } from '../../stores/posts/monographsCollection';\nimport Post, { Record } from '../../components/Post/Post';\nimport * as Api from '../../api';\n\nconst PeriodicPost = () => {\n  return (\n    <Post\n      useCollection={useMonographsCollection}\n      apiMethodForDelete={Api.Posts.deleteMonograph}\n      apiMethodForPostEdit={Api.Posts.editMonograph}\n      type='monograph'\n    >\n      <Record label=\"Section\" field=\"section\" maybeNull />\n      <Record label=\"ISBN\" field=\"isbn\" maybeNull />\n      <Record label=\"DOI\" field=\"doi\" maybeNull />\n      <Record label=\"Pages\" field=\"monographPages\" />\n      <Record label=\"Print pages\" field=\"printPages\" />\n      <Record label=\"Pages\" field=\"pages\" />\n      <Record label=\"Year\" field=\"year\" />\n    </Post>\n  );\n};\n\nexport default observer(PeriodicPost);\n","import React from 'react';\nimport { observer } from 'mobx-react';\n\nimport { useThesisCollection } from '../../stores/posts/thesisCollection';\nimport Post, { Record } from '../../components/Post/Post';\nimport * as Api from '../../api';\n\nconst PeriodicPost = () => {\n  return (\n    <Post\n      useCollection={useThesisCollection}\n      apiMethodForDelete={Api.Posts.deleteThesis}\n      apiMethodForPostEdit={Api.Posts.editThesis}\n      type='thesis'\n    >\n      <Record label=\"UDC\" field=\"udc\" />\n      <Record label=\"ISSN\" field=\"issn\" maybeNull />\n      <Record label=\"DOI\" field=\"doi\" maybeNull />\n      <Record label=\"Conference\" field=\"conference\" />\n      <Record label=\"City\" field=\"city\" />\n      <Record label=\"Dates\" field=\"dates\" />\n      <Record label=\"Collection pages\" field=\"collectionPages\" />\n      <Record label=\"Pages\" field=\"pages\" />\n    </Post>\n  );\n};\n\nexport default observer(PeriodicPost);\n","import React, { useEffect } from 'react';\nimport { generatePath, Redirect, useParams } from 'react-router-dom';\nimport { Container, Segment, Message } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport s from './EditPost.module.scss';\nimport { useStore } from '../../stores/createStore';\nimport MonographForm from '../../components/PostForms/MonographForm';\nimport PeriodicityForm from '../../components/PostForms/PeriodicityForm';\nimport ThesisForm from '../../components/PostForms/ThesisForm';\nimport { useMonographsCollection } from '../../stores/posts/monographsCollection';\nimport { usePeriodicityCollection } from '../../stores/posts/periodicityCollection';\nimport { useThesisCollection } from '../../stores/posts/thesisCollection';\nimport * as Api from '../../api';\nimport { routes } from '../routes';\n\nconst EditPost = () => {\n  const store = useStore();\n  const params = useParams();\n  const isPeriodicity = params.type === 'periodicity';\n  const isThesis = params.type === 'thesis';\n  const isMonograph = params.type === 'monograph';\n  const useCollection = (isPeriodicity && usePeriodicityCollection) || (isThesis && useThesisCollection) || (isMonograph && useMonographsCollection);\n  const { collection, getById, editPost } = useCollection();\n  const post = collection.get(params.postId);\n  const user = store.viewer.user;\n  const apiMethod = (isPeriodicity && Api.Posts.editPeriodicity) || (isThesis && Api.Posts.editThesis) || (isMonograph && Api.Posts.editMonograph);\n  const postRoute = (isPeriodicity && routes.periodicityPost) || (isThesis && routes.thesisPost) || (isMonograph && routes.monographPost);\n\n  const submitForm = ({ author, ...data }) => {\n    author = author ? author : user.id;\n\n    editPost.run(params.postId, { author, ...data }, apiMethod);\n  };\n\n  useEffect(() => {\n    getById.run(params.postId);\n  }, [params.postId]);\n\n  if (editPost.redirect) {\n    return <Redirect to={generatePath(postRoute, { id: params.postId })} />;\n  }\n\n  return (\n    <Container>\n      <div className={s.form}>\n        <Message attached header=\"Update your post!\" size=\"huge\" />\n        <Segment padded=\"very\" attached loading={editPost.isLoading}>\n\n          {isMonograph && post && (\n            <MonographForm onSubmit={submitForm} editMode post={post} />\n          )}\n          {isPeriodicity && post && (\n            <PeriodicityForm onSubmit={submitForm} editMode post={post} />\n          )}\n          {isThesis && post && (\n            <ThesisForm onSubmit={submitForm} editMode post={post} />\n          )}\n        </Segment>\n      </div>\n    </Container>\n  );\n};\n\nexport default observer(EditPost);\n","import React, { useEffect, useState } from 'react';\nimport { generatePath, useHistory } from 'react-router-dom';\nimport { Accordion, Header, Icon, Item, Loader } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport { useStore } from '../../../../stores/createStore';\n\nimport s from './Users.module.scss';\nimport EditForm from '../../../../components/EditForm/EditForm';\nimport { useUserCollection } from '../../../../stores/users/usersCollection';\nimport * as Api from '../../../../api';\nimport { useMonographsCollection } from '../../../../stores/posts/monographsCollection';\nimport { useThesisCollection } from '../../../../stores/posts/thesisCollection';\nimport { usePeriodicityCollection } from '../../../../stores/posts/periodicityCollection';\nimport { routes } from '../../../routes';\n\nconst PostsList = ({ posts, apiMethodForDelete, postCollection, type }) => {\n  const { deleteById } = postCollection();\n  const history = useHistory();\n\n  const handlePostDelete = (id) => deleteById.run(id, apiMethodForDelete);\n\n  return (\n    <React.Fragment>\n      {!posts[0] && <Header as=\"h4\">No posts!</Header>}\n      {posts.map((post) => {\n        return (\n          <Item>\n            <Item.Content>\n              <Item.Header as=\"a\">{post.title}</Item.Header>\n              <Item.Extra>\n                <Icon\n                  onClick={() => handlePostDelete(post.id)}\n                  name=\"trash\"\n                  color=\"red\"\n                  size=\"large\"\n                  className={s.icon}\n                />\n                <Icon\n                  onClick={() =>\n                    history.push(\n                      generatePath(routes.editPost, {\n                        type,\n                        postId: post.id,\n                      }),\n                    )\n                  }\n                  name=\"edit\"\n                  color=\"blue\"\n                  size=\"large\"\n                  className={s.icon}\n                />\n              </Item.Extra>\n            </Item.Content>\n          </Item>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nconst Users = () => {\n  const store = useStore();\n  const { fetchAll, items } = store.users;\n  const { fetchUserPosts, periodic, thesis, monographs } = store.userPosts;\n  const [activeIndex, setActiveIndex] = useState();\n  const [activeIndexPost, setActiveIndexPost] = useState();\n  const [editUserMode, setEditUserMode] = useState({\n    show: false,\n    id: null,\n  });\n  const { deleteById } = useUserCollection();\n  const monographCollection = useMonographsCollection;\n  const thesisCollection = useThesisCollection;\n  const periodicityCollection = usePeriodicityCollection;\n\n  const handleClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const newIndex = activeIndex === index ? -1 : index;\n\n    setActiveIndex(newIndex);\n  };\n\n  const handleClickPost = (e, titleProps) => {\n    const { index } = titleProps;\n    const newIndex = activeIndexPost === index ? -1 : index;\n\n    setActiveIndexPost(newIndex);\n  };\n\n  const handleDeleteUser = (id, username) => deleteById.run(id, username);\n  const openEditUserMode = (id) => setEditUserMode({ show: true, id });\n  const closeEditUserMode = () => setEditUserMode({ show: false, id: null });\n\n  useEffect(() => {\n    fetchAll.run();\n  }, []);\n\n  useEffect(() => {\n    fetchUserPosts.run(activeIndex);\n  }, [activeIndex]);\n\n  return (\n    <Accordion fluid styled>\n      <Loader active={fetchAll.isLoading} />\n      {items.map((user) => {\n        return (\n          <React.Fragment>\n            <Accordion.Title active={activeIndex === user.username} index={user.username} onClick={handleClick}>\n              <Icon name=\"dropdown\" />\n              {user.usernameString}\n            </Accordion.Title>\n            <Accordion.Content active={activeIndex === user.username}>\n              {!editUserMode.show && (\n                <React.Fragment>\n                  <Icon\n                    onClick={() => handleDeleteUser(user.id, user.username)}\n                    name=\"user delete\"\n                    color=\"red\"\n                    size=\"large\"\n                    className={s.icon}\n                  />\n                  <Icon\n                    onClick={() => openEditUserMode(user.id)}\n                    name=\"edit\"\n                    color=\"blue\"\n                    size=\"large\"\n                    className={s.icon}\n                  />\n                </React.Fragment>\n              )}\n\n              {editUserMode.show && editUserMode.id === user.id && (\n                <EditForm user={user} cancelEdit={closeEditUserMode} isViewer={false} />\n              )}\n\n              <Accordion fluid styled>\n                <Accordion.Title active={activeIndexPost === 1} index={1} onClick={handleClickPost}>\n                  <Icon name=\"dropdown\" />\n                  Monographs\n                </Accordion.Title>\n                <Accordion.Content active={activeIndexPost === 1}>\n                  <Item.Group divided>\n                    <PostsList\n                      posts={monographs}\n                      apiMethodForEdit={Api.Posts.deleteMonograph}\n                      apiMethodForDelete={Api.Posts.editMonograph}\n                      postCollection={monographCollection}\n                      type=\"monograph\"\n                    />\n                  </Item.Group>\n                </Accordion.Content>\n\n                <Accordion.Title active={activeIndexPost === 2} index={2} onClick={handleClickPost}>\n                  <Icon name=\"dropdown\" />\n                  Periodicity\n                </Accordion.Title>\n                <Accordion.Content active={activeIndexPost === 2}>\n                  <Item.Group divided>\n                    <PostsList\n                      posts={periodic}\n                      apiMethodForEdit={Api.Posts.deletePeriodicity}\n                      apiMethodForDelete={Api.Posts.editPeriodicity}\n                      postCollection={periodicityCollection}\n                      type=\"periodicity\"\n                    />\n                  </Item.Group>\n                </Accordion.Content>\n\n                <Accordion.Title active={activeIndexPost === 3} index={3} onClick={handleClickPost}>\n                  <Icon name=\"dropdown\" />\n                  Thesis\n                </Accordion.Title>\n                <Accordion.Content active={activeIndexPost === 3}>\n                  <Item.Group divided>\n                    <PostsList\n                      posts={thesis}\n                      apiMethodForEdit={Api.Posts.deleteThesis}\n                      apiMethodForDelete={Api.Posts.editThesis}\n                      postCollection={thesisCollection}\n                      type=\"thesis\"\n                    />\n                  </Item.Group>\n                </Accordion.Content>\n              </Accordion>\n            </Accordion.Content>\n          </React.Fragment>\n        );\n      })}\n    </Accordion>\n  );\n};\n\nexport default observer(Users);\n","import React, { useState } from 'react';\nimport { Container, Grid, Menu, Segment } from 'semantic-ui-react';\nimport { observer } from 'mobx-react';\n\nimport s from './AdminPanel.module.scss';\nimport Users from './components/Users/Users';\n\nconst AdminPanel = () => {\n  const [activeItem, setActiveItem] = useState('users');\n\n  const handleItemClick = (e, { name }) => setActiveItem(name);\n\n  return (\n    <Container className={s.container}>\n      <Grid>\n        <Grid.Column width={4}>\n          <Menu fluid vertical tabular>\n            <Menu.Item name=\"users\" active={activeItem === 'users'} onClick={handleItemClick} />\n            <Menu.Item\n              name=\"reporting\"\n              active={activeItem === 'reporting'}\n              onClick={handleItemClick}\n            />\n          </Menu>\n        </Grid.Column>\n\n        <Grid.Column stretched width={12}>\n          {activeItem === 'users' && <Users />}\n          {activeItem === 'reporting' && <Segment>reporting</Segment>}\n        </Grid.Column>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default observer(AdminPanel);\n","import React from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport { observer } from 'mobx-react';\n\nimport { useStore } from '../stores/createStore';\nimport Header from '../components/Header/Header';\nimport Home from './Home/Home';\nimport Auth from './Auth/Auth';\nimport Account from './Account/Account';\nimport CreatePost from './CreatePost/CreatePost';\nimport PeriodicPost from './PeriodicPost/PeriodicPost';\nimport MonographPost from './MonographPost/MonographPost';\nimport ThesisPost from './ThesisPost/ThesisPost';\nimport EditPost from './EditPost/EditPost';\nimport AdminPanel from './AdminPanel/AdminPanel';\n\nexport const routes = {\n  home: '/',\n\n  auth: '/auth',\n  register: '/auth/register',\n  login: '/auth/login',\n\n  account: '/account/:username',\n\n  monographs: '/account/:username/monographs',\n  periodicity: '/account/:username/periodicity',\n  thesis: '/account/:username/thesis',\n\n  monographPost: '/monographs/:id',\n  periodicityPost: '/periodicity/:id',\n  thesisPost: '/thesis/:id',\n\n  createPost: '/create',\n  editPost: '/edit_post/:type/:postId',\n\n  cathedra: '/:name',\n\n  adminPanel: '/admin',\n};\n\nexport const PrivateRouter = observer(({ component: Component, ...props }) => {\n  const store = useStore();\n  const { isLoggedIn } = store.auth;\n\n  return (\n    <Route\n      {...props}\n      render={({ ...renderProps }) =>\n        isLoggedIn ? <Component {...renderProps} /> : <Redirect to={routes.login} />\n      }\n    />\n  );\n});\n\nconst Router = () => {\n  return (\n    <BrowserRouter>\n      <Header />\n\n      <Switch>\n        <Route exact path={routes.home} component={Home} />\n        <Route path={routes.auth} component={Auth} />\n        <PrivateRouter exact path={routes.createPost} component={CreatePost} />\n        <PrivateRouter exact path={routes.editPost} component={EditPost} />\n        <PrivateRouter path={routes.account} component={Account} />\n        <Route path={routes.periodicityPost} component={PeriodicPost} />\n        <Route path={routes.monographPost} component={MonographPost} />\n        <Route path={routes.thesisPost} component={ThesisPost} />\n        <Route path={routes.adminPanel} component={AdminPanel} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Router;\n","import React from 'react';\nimport { Loader as SemanticLoader } from 'semantic-ui-react'\nimport PropTypes from 'prop-types';\n\nconst Loader = ({ active = false, size = 'big', text, ...props }) => {\n  return (\n    <SemanticLoader active={active} size={size} {...props}>\n      {text}\n    </SemanticLoader>\n  );\n};\n\nLoader.propTypes = {\n  active: PropTypes.bool,\n  size: PropTypes.string,\n  text: PropTypes.node,\n};\n\nexport default Loader;\n","import React, { useEffect, useState } from 'react';\nimport { observer } from 'mobx-react';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport { Provider, createStore } from 'src/stores/createStore';\nimport Router from '../../scenes/routes';\nimport Loader from '../elements/Loader/Loader';\nimport './App.scss';\n\nexport const colors = {\n  main: 'teal',\n  second: 'yellow',\n  neutral: 'standard',\n};\n\nexport const apiPath = 'https://ski-works.herokuapp.com/';\n\nconst App = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const store = createStore();\n\n  useEffect(() => {\n    store.bootstrap().then(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div>\n      <Provider value={store}>\n        {isLoading ? <Loader active={isLoading} /> : <Router />}\n      </Provider>\n    </div>\n  );\n};\n\nexport default observer(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}